<!doctype html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SoftLayer API Examples, implementations, and release notes.">
    <meta name="author" content="SoftLayer">

    <title>Order a Virtual and Bare Metal Server by frondend/backend vlan or router - https://sldn.softlayer.com/</title>
    <link rel="canonical" href="https://sldn.softlayer.com/python/order_server_by_vlan_router.py/">
        <link href="https://sldn.softlayer.com/css/main.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/bootstrap.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/custom.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/monokai.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/highlight/solarized_dark.css" rel="stylesheet">

    <script src="https://sldn.softlayer.com/js/highlight.pack.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="shortcut icon" href="https://sldn.softlayer.com/img/favicon.ico" type="image/x-icon" />
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato" />
            

    <script src="https://sldn.softlayer.com/js/jquery-3.3.1.min.js"></script> 
    <script src="https://sldn.softlayer.com/js/sldn.js"></script>


    <link href="https://sldn.softlayer.com/fontawesome/css/fontawesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/brands.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/solid.min.css" rel="stylesheet" type="text/css">
    
    <script defer src="https://sldn.softlayer.com/fontawesome/js/solid.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/brands.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/fontawesome.min.js"></script>

    <script>
		$(document).ready(function() {
			$('table').addClass("table table-hover table-striped")
		})
	</script>
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9XPZ9ZBSJE"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-9XPZ9ZBSJE', { 'anonymize_ip': false });
}
</script>

</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://sldn.softlayer.com/">SoftLayer API</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    
                        <li><a href="https://sldn.softlayer.com/article/">Articles</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/reference/softlayerapi">Documentation</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/go/">Go</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/java/">Java</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/perl/">Perl</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/php/">PHP</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/python/">Python</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/rest/">Rest</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/ruby/">Ruby</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/tools/">Tools</a></li>
                    

                    
                </ul>
                <div id="custom-search-input" class="pull-right">
                  <form class="navbar-form" role="search" method="get" action="https://www.bing.com/search">
                    <div class="input-group col-md-12">
                      <input type="text" class="form-control input-md" placeholder="Search" name="q" id="srch-term">
                      <input type="hidden" name="q1" value="site:sldn.softlayer.com" />
                      <div class="input-group-btn">
                        <button class="btn btn-info" type="submit">
                          <i class="glyphicon glyphicon-search"></i>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
            </div>
        </div>
    </nav>

<div class="container">
    <div class="row">
    
        <div class="col-md-3">
            <div style="word-wrap: break-word;"> 
                <h4>November 26, 2020<br></h4>
            </div>
        </div>
        <div class="col-md-9">

                <strong>Classes <span class="fa fa-book"/></strong>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Product_Order">SoftLayer_Product_Order</a>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Product_Package">SoftLayer_Product_Package</a>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Account">SoftLayer_Account</a>
                
                <br>
                <strong>Tags <span class="fa fa-tags"/></strong>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/order">order</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/vlan">vlan</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/pricing">pricing</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/create">create</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/filter">filter</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/hardware">hardware</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/package">package</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/router">router</a>
                          
        </div>
    </div>
    <hr>
    <div class="row">
		<div class="col-md-12">
            <div class="well well-sm  article" style="word-wrap: break-word;">
                <div class="article-title">
				    <h1>Order a Virtual and Bare Metal Server by frondend/backend vlan or router</h1>
                    <small>Examples to order a Virtual and Bare Metal Server by frondend/backend vlan or router&#34;</small>
                </div>
				
                
				
                <h3 id="order-a-bare-metal-by-frondendbackend-vlan-or-router">Order a Bare Metal by frondend/backend vlan or router.</h3>
<p>Example of how to build an order for a bare metal server.</p>
<pre><code>1. Find the package that you want to order. listServerPackages() will filter out all that are not bare metal 
servers.

2. Use getServerPrices() to find the item keyNames you want to include in your order. These price IDs can be 
included prices array directly, but Iâ€™ve included gatherPriceIds() to match up KeyNames to build a list of price 
ids. getServerPrices() will also show the locations available for ordering.

3. listAvailableVlans() if you want to place the server on a specific VLAN.

4. listAvailableRouters() if you want to place the server on a specific router.
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span> <span class="k">as</span> <span class="n">pp</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">SoftLayer</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">prettytable</span> <span class="kn">import</span> <span class="n">PrettyTable</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Ordering</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">create_client_from_env</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package_id</span><span class="p">,</span> <span class="n">location_id</span><span class="p">,</span> <span class="n">frontend</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="n">network_component_type</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">        Places an order for a Bare Metal Instance
</span></span></span><span class="line"><span class="cl"><span class="s2">        &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;These items are required for all servers and have a 0$ cost, some can be upgraded&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">required_items</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;AUTOMATED_NOTIFICATION&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;MONITORING_HOST_PING&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;NOTIFICATION_EMAIL_AND_TICKET&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;REBOOT_KVM_OVER_IP&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;NESSUS_VULNERABILITY_ASSESSMENT_REPORTING&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;We need bandwidth, at least 1 ip, and the port speed &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">network_items</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;BANDWIDTH_500_GB&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;1_IP_ADDRESS&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;100_MBPS_REDUNDANT_PUBLIC_PRIVATE_NETWORK_UPLINKS&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;A disk controller, a duplicate entry for each disk you want, in order, ram, OS and processor chip &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">physical_items</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;DISK_CONTROLLER_NONRAID&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;HARD_DRIVE_1_00_TB_SATA_2&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;RAM_64_GB_DDR4_2133_ECC_NON_REG&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;OS_WINDOWS_2016_FULL_STD_64_BIT&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;INTEL_INTEL_XEON_E52620_V4_2_10&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">network_component_type</span> <span class="o">==</span> <span class="s2">&#34;vlan&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">primaryNetworkComponent</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;networkVlan&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;id&#34;</span><span class="p">:</span> <span class="n">frontend</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="n">primaryBackendNetworkComponent</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;networkVlan&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;id&#34;</span><span class="p">:</span> <span class="n">backend</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">primaryNetworkComponent</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;router&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;id&#34;</span><span class="p">:</span> <span class="n">frontend</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="n">primaryBackendNetworkComponent</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;router&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;id&#34;</span><span class="p">:</span> <span class="n">backend</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">all_items</span> <span class="o">=</span> <span class="n">required_items</span> <span class="o">+</span> <span class="n">network_items</span> <span class="o">+</span> <span class="n">physical_items</span>
</span></span><span class="line"><span class="cl">        <span class="n">prices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gatherPriceIds</span><span class="p">(</span><span class="n">package_id</span><span class="p">,</span> <span class="n">all_items</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">product_order</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;orderContainers&#39;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;hardware&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span>
</span></span><span class="line"><span class="cl">                            <span class="s1">&#39;domain&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;cgallo.com&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                            <span class="s1">&#39;hostname&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;vmware-testing01&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                            <span class="s2">&#34;primaryNetworkComponent&#34;</span><span class="p">:</span> <span class="n">primaryNetworkComponent</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                            <span class="s2">&#34;primaryBackendNetworkComponent&#34;</span><span class="p">:</span> <span class="n">primaryBackendNetworkComponent</span>
</span></span><span class="line"><span class="cl">                        <span class="p">}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;location&#39;</span><span class="p">:</span> <span class="n">location_id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;packageId&#39;</span><span class="p">:</span> <span class="n">package_id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;prices&#39;</span><span class="p">:</span> <span class="n">prices</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">pp</span><span class="p">(</span><span class="n">product_order</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">order</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;Product_Order&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">verifyOrder</span><span class="p">(</span><span class="n">product_order</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># order = self.client[&#39;Product_Order&#39;].placeOrder(productOrder)</span>
</span></span><span class="line"><span class="cl">        <span class="n">pp</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">listServerPackages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">mask</span> <span class="o">=</span> <span class="s2">&#34;mask[type]&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">_filter</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;keyName&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;operation&#39;</span><span class="p">:</span> <span class="s1">&#39;BARE_METAL_CPU&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;Product_Package&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getAllObjects</span><span class="p">(</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">_filter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="si">%s</span><span class="s2"> - </span><span class="si">%s</span><span class="s2"> - </span><span class="si">%s</span><span class="s2"> - </span><span class="si">%s</span><span class="s2">&#34;</span> <span class="o">%</span>
</span></span><span class="line"><span class="cl">                  <span class="p">(</span><span class="n">product</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="n">product</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="n">product</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="n">product</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">][</span><span class="s1">&#39;keyName&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                  <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">listAvailableVlans</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc_id</span><span class="p">,</span> <span class="n">package_id</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;SoftLayer_Product_Order&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getVlans</span><span class="p">(</span><span class="n">dc_id</span><span class="p">,</span> <span class="n">package_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">public_vlans</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;publicVlans&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">private_vlans</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;privateVlans&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">table_public_vlan</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table_public_vlan</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;Available Public Vlans&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table_public_vlan</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;id&#34;</span><span class="p">,</span> <span class="s2">&#34;VlanNumber&#34;</span><span class="p">,</span> <span class="s2">&#34;HostnameDatacenter&#34;</span><span class="p">,</span> <span class="s2">&#34;HostnameRouter&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">public_vlan</span> <span class="ow">in</span> <span class="n">public_vlans</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">table_public_vlan</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">public_vlan</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                       <span class="n">public_vlan</span><span class="p">[</span><span class="s1">&#39;vlanNumber&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                       <span class="n">public_vlan</span><span class="p">[</span><span class="s1">&#39;hostnameDatacenter&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                       <span class="n">public_vlan</span><span class="p">[</span><span class="s1">&#39;hostnameRouter&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                                       <span class="p">]</span>
</span></span><span class="line"><span class="cl">                                      <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table_public_vlan</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">table_private_vlan</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table_private_vlan</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;Available Private Vlans&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table_private_vlan</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;id&#34;</span><span class="p">,</span> <span class="s2">&#34;VlanNumber&#34;</span><span class="p">,</span> <span class="s2">&#34;HostnameDatacenter&#34;</span><span class="p">,</span> <span class="s2">&#34;HostnameRouter&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">private_vlan</span> <span class="ow">in</span> <span class="n">private_vlans</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">table_private_vlan</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">private_vlan</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                        <span class="n">private_vlan</span><span class="p">[</span><span class="s1">&#39;vlanNumber&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                        <span class="n">private_vlan</span><span class="p">[</span><span class="s1">&#39;hostnameDatacenter&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                        <span class="n">private_vlan</span><span class="p">[</span><span class="s1">&#39;hostnameRouter&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                                        <span class="p">]</span>
</span></span><span class="line"><span class="cl">                                       <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table_private_vlan</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">listAvailableRouters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc_id</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">_filter</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;routers&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;topLevelLocation&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;operation&#39;</span><span class="p">:</span> <span class="n">dc_id</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;SoftLayer_Account&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getRouters</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">_filter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;Available Routers&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;id&#34;</span><span class="p">,</span> <span class="s2">&#34;hostname&#34;</span><span class="p">,</span> <span class="s2">&#34;topLevelLocation&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">vlan</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">vlan</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                           <span class="n">vlan</span><span class="p">[</span><span class="s1">&#39;hostname&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                           <span class="n">vlan</span><span class="p">[</span><span class="s1">&#39;topLevelLocation&#39;</span><span class="p">][</span><span class="s1">&#39;longName&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                           <span class="p">]</span>
</span></span><span class="line"><span class="cl">                          <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">getServerPrices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package_id</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">mask</span> <span class="o">=</span> <span class="s2">&#34;mask[regions,items[prices],activeServerItems[prices]]&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># locations = self.client[&#39;Product_Package&#39;].getLocations(id=package_id)</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;Product_Package&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getObject</span><span class="p">(</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">package_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">table</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;Locations&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;Location ID&#34;</span><span class="p">,</span> <span class="s2">&#34;Location Name&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;regions&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">location</span><span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">][</span><span class="s1">&#39;location&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="n">location</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]])</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">table</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;Items Prices&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;Price ID&#34;</span><span class="p">,</span> <span class="s2">&#34;description&#34;</span><span class="p">,</span> <span class="s2">&#34;cores&#34;</span><span class="p">,</span> <span class="s2">&#34;Monthly Fee&#34;</span><span class="p">,</span> <span class="s2">&#34;KeyName&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">prices</span> <span class="ow">in</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;prices&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># only print the Default location price.</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># The ordering system will replace the default price id for you if ordering in a non-usa region.</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="ow">not</span> <span class="n">prices</span><span class="p">[</span><span class="s1">&#39;locationGroupId&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="c1"># Some software has core restrictions that effect prices</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="s1">&#39;capacityRestrictionType&#39;</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">cores</span> <span class="o">=</span> <span class="s2">&#34;</span><span class="si">%s</span><span class="s2"> - </span><span class="si">%s</span><span class="s2">&#34;</span> <span class="o">%</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">                            <span class="n">prices</span><span class="p">[</span><span class="s1">&#39;capacityRestrictionMinimum&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                            <span class="n">prices</span><span class="p">[</span><span class="s1">&#39;capacityRestrictionMaximum&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">prices</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                       <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&#34; - &#34;</span><span class="p">,</span> <span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                                       <span class="n">cores</span><span class="p">,</span> <span class="n">prices</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recurringFee&#39;</span><span class="p">,</span> <span class="s1">&#39;?&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                                       <span class="n">item</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">]])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">prices</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                       <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&#34; - &#34;</span><span class="p">,</span> <span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                                       <span class="s2">&#34;&#34;</span><span class="p">,</span> <span class="n">prices</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recurringFee&#39;</span><span class="p">,</span> <span class="s1">&#39;?&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                                       <span class="n">item</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">]])</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># serverItems = self.client[&#39;Product_Package&#39;].getActiveServerItems(id=package_id)</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;SERVER ITEMS&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;Price ID&#34;</span><span class="p">,</span> <span class="s2">&#34;description&#34;</span><span class="p">,</span> <span class="s2">&#34;Monthly Fee&#34;</span><span class="p">,</span> <span class="s2">&#34;KeyName&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;activeServerItems&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">prices</span> <span class="ow">in</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;prices&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># only print the Default location price.</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># The ordering system will replace the default price id for you if ordering in a non-usa region.</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="ow">not</span> <span class="n">prices</span><span class="p">[</span><span class="s1">&#39;locationGroupId&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">prices</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                   <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&#34; - &#34;</span><span class="p">,</span> <span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                                   <span class="n">prices</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recurringFee&#39;</span><span class="p">,</span> <span class="s1">&#39;?&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                                   <span class="n">item</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">]])</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">gatherPriceIds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package_id</span><span class="p">,</span> <span class="n">keyNames</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># This wont work for prices that have core requirements</span>
</span></span><span class="line"><span class="cl">        <span class="n">mask</span> <span class="o">=</span> <span class="s1">&#39;mask[id,itemCategory,keyName,prices[categories]]&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="n">items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;Product_Package&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getItems</span><span class="p">(</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">package_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">prices</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="n">category_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;gpu0&#34;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&#34;pcie_slot0&#34;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">item_keyname</span> <span class="ow">in</span> <span class="n">keyNames</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">matching_item</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">items</span> <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">item_keyname</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">raise</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">SoftLayerError</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;Item </span><span class="si">{}</span><span class="s2"> does not exist for package </span><span class="si">{}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">item_keyname</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                                                   <span class="n">package_id</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">item_category</span> <span class="o">=</span> <span class="n">matching_item</span><span class="p">[</span><span class="s1">&#39;itemCategory&#39;</span><span class="p">][</span><span class="s1">&#39;categoryCode&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">item_category</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">category_dict</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">price_id</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">matching_item</span><span class="p">[</span><span class="s1">&#39;prices&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                            <span class="k">if</span> <span class="ow">not</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;locationGroupId&#39;</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">category_dict</span><span class="p">[</span><span class="n">item_category</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">                <span class="n">category_code</span> <span class="o">=</span> <span class="n">item_category</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">category_dict</span><span class="p">[</span><span class="n">item_category</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                <span class="n">price_id</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">matching_item</span><span class="p">[</span><span class="s1">&#39;prices&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                            <span class="k">if</span> <span class="ow">not</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;locationGroupId&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                            <span class="ow">and</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;categories&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;categoryCode&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">category_code</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">prices</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&#34;id&#34;</span><span class="p">:</span> <span class="n">price_id</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">prices</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">main</span> <span class="o">=</span> <span class="n">Ordering</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 1, find the processor type you want    
</span></span></span><span class="line"><span class="cl"><span class="s2">    553  Dual E5-2600 v4 Series (12 Drives)  DUAL_E52600_V4_12_DRIVES  BARE_METAL_CPU
</span></span></span><span class="line"><span class="cl"><span class="s2">    
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to get the &#39;listServerPackages&#39; information.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># main.listServerPackages()</span>
</span></span><span class="line"><span class="cl">    <span class="n">package_id</span> <span class="o">=</span> <span class="mi">553</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 2, collect all the pieces you want to order
</span></span></span><span class="line"><span class="cl"><span class="s2">    getServerPrices will list out all the keyNames and cost of components
</span></span></span><span class="line"><span class="cl"><span class="s2">    that can be ordered on a certain package. Will also list the DCs that this
</span></span></span><span class="line"><span class="cl"><span class="s2">    server is available in.
</span></span></span><span class="line"><span class="cl"><span class="s2">    
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to &#39;getServerPrices&#39; information.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># main.getServerPrices(package_id)</span>
</span></span><span class="line"><span class="cl">    <span class="n">location_id</span> <span class="o">=</span> <span class="mi">1854895</span>  <span class="c1"># &#34;DALLAS13&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 3, will list all available public and private vlans.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to &#39;listAvailableVlans&#39; information.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># main.listAvailableVlans(location_id, package_id)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pub_vlan_id</span> <span class="o">=</span> <span class="mi">1401234</span>
</span></span><span class="line"><span class="cl">    <span class="n">priv_vlan_id</span> <span class="o">=</span> <span class="mi">2282123</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 4, will list all available routers.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to &#39;listAvailableRouters&#39; information.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># main.listAvailableRouters(location_id)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pub_router_id</span> <span class="o">=</span> <span class="mi">1074345</span>
</span></span><span class="line"><span class="cl">    <span class="n">priv_router_id</span> <span class="o">=</span> <span class="mi">1884234</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 5, To order a bare metal server by backend/frontend vlan.
</span></span></span><span class="line"><span class="cl"><span class="s2">    
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to order a bare metal server.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># main.main(package_id, location_id, pub_vlan_id, priv_vlan_id, &#34;vlan&#34;)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 6, To order a bare metal server by backend/frontend router.
</span></span></span><span class="line"><span class="cl"><span class="s2">    
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to order a bare metal server.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># main.main(package_id, location_id, pub_router_id, priv_router_id, &#34;router&#34;)</span>
</span></span></code></pre></div><h3 id="order-a-virtual-server-by-backendfrontend-vlan-or-router">Order a Virtual Server by backend/frontend vlan or router</h3>
<p>Example of how to build an order for a virtual server.</p>
<pre><code>1. Find the package that you want to order. listServerPackages() will filter out all VIRTUAL_SERVER_INSTANCE.

2. Use getServerPrices() to find the item keyNames you want to include in your order. These price IDs can be 
included prices array directly, but Iâ€™ve included gatherPriceIds() to match up KeyNames to build a list of price 
ids. getServerPrices() will also show the locations available for ordering.

3. listActivePresets() will list all active presets for a specific package.

4. listAvailableVlans() if you want to place the server on a specific VLAN.

5. listAvailableRouters() if you want to place the server on a specific router.
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span> <span class="k">as</span> <span class="n">pp</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">SoftLayer</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">prettytable</span> <span class="kn">import</span> <span class="n">PrettyTable</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Ordering</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">create_client_from_env</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package_id</span><span class="p">,</span> <span class="n">location_id</span><span class="p">,</span> <span class="n">frontend</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="n">preset_id</span><span class="p">,</span> <span class="n">network_component_type</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">        Places an order for a Virtual Server Instance
</span></span></span><span class="line"><span class="cl"><span class="s2">        &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;These items are required for all servers and have a 0$ cost, some can be upgraded&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">required_items</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;REBOOT_REMOTE_CONSOLE&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;MONITORING_HOST_PING&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;NOTIFICATION_EMAIL_AND_TICKET&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;AUTOMATED_NOTIFICATION&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;We need bandwidth, at least 1 ip, and the port speed &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">network_items</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;BANDWIDTH_0_GB_2&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;1_IP_ADDRESS&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;100_MBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">physical_items</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;OS_WINDOWS_2012_R2_FULL_STD_64_BIT&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">primaryBackendNetworkComponent</span><span class="p">,</span> <span class="n">primaryNetworkComponent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">configureNetworkComponents</span><span class="p">(</span><span class="n">backend</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                                                                                  <span class="n">frontend</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                                                                                  <span class="n">network_component_type</span>
</span></span><span class="line"><span class="cl">                                                                                                  <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">all_items</span> <span class="o">=</span> <span class="n">required_items</span> <span class="o">+</span> <span class="n">network_items</span> <span class="o">+</span> <span class="n">physical_items</span>
</span></span><span class="line"><span class="cl">        <span class="n">prices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gatherPriceIds</span><span class="p">(</span><span class="n">package_id</span><span class="p">,</span> <span class="n">preset_id</span><span class="p">,</span> <span class="n">all_items</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">product_order</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;orderContainers&#39;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;complexType&#34;</span><span class="p">:</span> <span class="s2">&#34;SoftLayer_Container_Product_Order_Virtual_Guest&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;virtualGuests&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="p">[</span>
</span></span><span class="line"><span class="cl">                        <span class="p">{</span>
</span></span><span class="line"><span class="cl">                            <span class="s1">&#39;domain&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;test.com&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                            <span class="s1">&#39;hostname&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;vmware-testing01&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                            <span class="s2">&#34;primaryNetworkComponent&#34;</span><span class="p">:</span> <span class="n">primaryNetworkComponent</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                            <span class="s2">&#34;primaryBackendNetworkComponent&#34;</span><span class="p">:</span> <span class="n">primaryBackendNetworkComponent</span>
</span></span><span class="line"><span class="cl">                        <span class="p">}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;useHourlyPricing&#34;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;location&#39;</span><span class="p">:</span> <span class="n">location_id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;packageId&#39;</span><span class="p">:</span> <span class="n">package_id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;presetId&#39;</span><span class="p">:</span> <span class="n">preset_id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;prices&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">price_id</span><span class="p">}</span> <span class="k">for</span> <span class="n">price_id</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">pp</span><span class="p">(</span><span class="n">product_order</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">order</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;Product_Order&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">verifyOrder</span><span class="p">(</span><span class="n">product_order</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># order = self.client[&#39;Product_Order&#39;].placeOrder(productOrder)</span>
</span></span><span class="line"><span class="cl">        <span class="n">pp</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">configureNetworkComponents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">backend</span><span class="p">,</span> <span class="n">frontend</span><span class="p">,</span> <span class="n">network_component_type</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">network_component_type</span> <span class="o">==</span> <span class="s2">&#34;vlan&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">primaryNetworkComponent</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;networkVlan&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;id&#34;</span><span class="p">:</span> <span class="n">frontend</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="n">primaryBackendNetworkComponent</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;networkVlan&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;id&#34;</span><span class="p">:</span> <span class="n">backend</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">primaryNetworkComponent</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;router&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;id&#34;</span><span class="p">:</span> <span class="n">frontend</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="n">primaryBackendNetworkComponent</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;router&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s2">&#34;id&#34;</span><span class="p">:</span> <span class="n">backend</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">primaryBackendNetworkComponent</span><span class="p">,</span> <span class="n">primaryNetworkComponent</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">listServerPackages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">mask</span> <span class="o">=</span> <span class="s2">&#34;mask[type]&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">_filter</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;keyName&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;operation&#39;</span><span class="p">:</span> <span class="s1">&#39;VIRTUAL_SERVER_INSTANCE&#39;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;Product_Package&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getAllObjects</span><span class="p">(</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">_filter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="si">%s</span><span class="s2"> - </span><span class="si">%s</span><span class="s2"> - </span><span class="si">%s</span><span class="s2"> - </span><span class="si">%s</span><span class="s2">&#34;</span> <span class="o">%</span>
</span></span><span class="line"><span class="cl">                  <span class="p">(</span><span class="n">product</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="n">product</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="n">product</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="n">product</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">][</span><span class="s1">&#39;keyName&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                  <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">listAvailableVlans</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc_id</span><span class="p">,</span> <span class="n">package_id</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;SoftLayer_Product_Order&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getVlans</span><span class="p">(</span><span class="n">dc_id</span><span class="p">,</span> <span class="n">package_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">public_vlans</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;publicVlans&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">private_vlans</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;privateVlans&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">table_public_vlan</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table_public_vlan</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;Available Public Vlans&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table_public_vlan</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;id&#34;</span><span class="p">,</span> <span class="s2">&#34;VlanNumber&#34;</span><span class="p">,</span> <span class="s2">&#34;HostnameDatacenter&#34;</span><span class="p">,</span> <span class="s2">&#34;HostnameRouter&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">public_vlan</span> <span class="ow">in</span> <span class="n">public_vlans</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">table_public_vlan</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">public_vlan</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                       <span class="n">public_vlan</span><span class="p">[</span><span class="s1">&#39;vlanNumber&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                       <span class="n">public_vlan</span><span class="p">[</span><span class="s1">&#39;hostnameDatacenter&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                       <span class="n">public_vlan</span><span class="p">[</span><span class="s1">&#39;hostnameRouter&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                                       <span class="p">]</span>
</span></span><span class="line"><span class="cl">                                      <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table_public_vlan</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">table_private_vlan</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table_private_vlan</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;Available Private Vlans&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table_private_vlan</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;id&#34;</span><span class="p">,</span> <span class="s2">&#34;VlanNumber&#34;</span><span class="p">,</span> <span class="s2">&#34;HostnameDatacenter&#34;</span><span class="p">,</span> <span class="s2">&#34;HostnameRouter&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">private_vlan</span> <span class="ow">in</span> <span class="n">private_vlans</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">table_private_vlan</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">private_vlan</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                        <span class="n">private_vlan</span><span class="p">[</span><span class="s1">&#39;vlanNumber&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                        <span class="n">private_vlan</span><span class="p">[</span><span class="s1">&#39;hostnameDatacenter&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                        <span class="n">private_vlan</span><span class="p">[</span><span class="s1">&#39;hostnameRouter&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                                        <span class="p">]</span>
</span></span><span class="line"><span class="cl">                                       <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table_private_vlan</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">listAvailableRouters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc_id</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">_filter</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;routers&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;topLevelLocation&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;operation&#39;</span><span class="p">:</span> <span class="n">dc_id</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;SoftLayer_Account&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getRouters</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">_filter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;Available Routers&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;id&#34;</span><span class="p">,</span> <span class="s2">&#34;hostname&#34;</span><span class="p">,</span> <span class="s2">&#34;topLevelLocation&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">vlan</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">vlan</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                           <span class="n">vlan</span><span class="p">[</span><span class="s1">&#39;hostname&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                           <span class="n">vlan</span><span class="p">[</span><span class="s1">&#39;topLevelLocation&#39;</span><span class="p">][</span><span class="s1">&#39;longName&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                           <span class="p">]</span>
</span></span><span class="line"><span class="cl">                          <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">listActivePresets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package_id</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s2">&#34;SoftLayer_Product_Package&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">getActivePresets</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">package_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;Active Presets&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;id&#34;</span><span class="p">,</span> <span class="s2">&#34;description&#34;</span><span class="p">,</span> <span class="s2">&#34;keyName&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">preset</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">preset</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                           <span class="n">preset</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                           <span class="n">preset</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                           <span class="p">]</span>
</span></span><span class="line"><span class="cl">                          <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">getServerPrices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package_id</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">mask</span> <span class="o">=</span> <span class="s2">&#34;mask[regions,items[prices],activeServerItems[prices]]&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># locations = self.client[&#39;Product_Package&#39;].getLocations(id=package_id)</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;Product_Package&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getObject</span><span class="p">(</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">package_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">table</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;Locations&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;Location ID&#34;</span><span class="p">,</span> <span class="s2">&#34;Location Name&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;regions&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">            <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">location</span><span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">][</span><span class="s1">&#39;location&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">],</span> <span class="n">location</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]])</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">table</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;Items Prices&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;Price ID&#34;</span><span class="p">,</span> <span class="s2">&#34;description&#34;</span><span class="p">,</span> <span class="s2">&#34;cores&#34;</span><span class="p">,</span> <span class="s2">&#34;Monthly Fee&#34;</span><span class="p">,</span> <span class="s2">&#34;KeyName&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">prices</span> <span class="ow">in</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;prices&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># only print the Default location price.</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># The ordering system will replace the default price id for you if ordering in a non-usa region.</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="ow">not</span> <span class="n">prices</span><span class="p">[</span><span class="s1">&#39;locationGroupId&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="c1"># Some software has core restrictions that effect prices</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="s1">&#39;capacityRestrictionType&#39;</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">cores</span> <span class="o">=</span> <span class="s2">&#34;</span><span class="si">%s</span><span class="s2"> - </span><span class="si">%s</span><span class="s2">&#34;</span> <span class="o">%</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">                            <span class="n">prices</span><span class="p">[</span><span class="s1">&#39;capacityRestrictionMinimum&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                            <span class="n">prices</span><span class="p">[</span><span class="s1">&#39;capacityRestrictionMaximum&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">prices</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                       <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&#34; - &#34;</span><span class="p">,</span> <span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                                       <span class="n">cores</span><span class="p">,</span> <span class="n">prices</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recurringFee&#39;</span><span class="p">,</span> <span class="s1">&#39;?&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                                       <span class="n">item</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">]])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">prices</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                       <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&#34; - &#34;</span><span class="p">,</span> <span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                                       <span class="s2">&#34;&#34;</span><span class="p">,</span> <span class="n">prices</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recurringFee&#39;</span><span class="p">,</span> <span class="s1">&#39;?&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                                       <span class="n">item</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">]])</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># serverItems = self.client[&#39;Product_Package&#39;].getActiveServerItems(id=package_id)</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&#34;SERVER ITEMS&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">table</span><span class="o">.</span><span class="n">field_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;Price ID&#34;</span><span class="p">,</span> <span class="s2">&#34;description&#34;</span><span class="p">,</span> <span class="s2">&#34;Monthly Fee&#34;</span><span class="p">,</span> <span class="s2">&#34;KeyName&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;activeServerItems&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">prices</span> <span class="ow">in</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;prices&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># only print the Default location price.</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># The ordering system will replace the default price id for you if ordering in a non-usa region.</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="ow">not</span> <span class="n">prices</span><span class="p">[</span><span class="s1">&#39;locationGroupId&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">prices</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                                   <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&#34; - &#34;</span><span class="p">,</span> <span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                                   <span class="n">prices</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recurringFee&#39;</span><span class="p">,</span> <span class="s1">&#39;?&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                                   <span class="n">item</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">]])</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">gatherPriceIds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package_id</span><span class="p">,</span> <span class="n">preset_id</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># This will work for prices that have core requirements</span>
</span></span><span class="line"><span class="cl">        <span class="n">mask</span> <span class="o">=</span> <span class="s1">&#39;mask[prices[item]]&#39;</span>
</span></span><span class="line"><span class="cl">        <span class="n">filter_preset</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;activePresets&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;operation&#39;</span><span class="p">:</span> <span class="n">preset_id</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">preset_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s2">&#34;SoftLayer_Product_Package&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">getActivePresets</span><span class="p">(</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">filter_preset</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                                                                <span class="nb">id</span><span class="o">=</span><span class="n">package_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">item_prices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s2">&#34;SoftLayer_Product_Package&#34;</span><span class="p">]</span><span class="o">.</span><span class="n">getItemPrices</span><span class="p">(</span><span class="n">mask</span><span class="o">=</span><span class="s1">&#39;mask[item]&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">package_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">capacity</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">preset</span> <span class="ow">in</span> <span class="n">preset_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">price</span> <span class="ow">in</span> <span class="n">preset</span><span class="p">[</span><span class="s1">&#39;prices&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="s2">&#34;CORE&#34;</span> <span class="ow">in</span> <span class="n">price</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">][</span><span class="s1">&#39;keyName&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">capacity</span> <span class="o">=</span> <span class="n">price</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">][</span><span class="s1">&#39;capacity&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">prices</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">keyname_item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">item_price</span> <span class="ow">in</span> <span class="n">item_prices</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">keyname_item</span> <span class="o">==</span> <span class="n">item_price</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">][</span><span class="s1">&#39;keyName&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="s1">&#39;capacityRestrictionMinimum&#39;</span> <span class="ow">in</span> <span class="n">item_price</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">capacityMinimun</span> <span class="o">=</span> <span class="n">item_price</span><span class="p">[</span><span class="s1">&#39;capacityRestrictionMinimum&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                        <span class="n">capacityMaximum</span> <span class="o">=</span> <span class="n">item_price</span><span class="p">[</span><span class="s1">&#39;capacityRestrictionMaximum&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                        <span class="k">if</span> <span class="n">capacityMinimun</span> <span class="o">&gt;=</span> <span class="n">capacity</span> <span class="ow">and</span> <span class="n">capacityMaximum</span> <span class="o">&lt;=</span> <span class="n">capacity</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                            <span class="n">prices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item_price</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">prices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item_price</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">prices</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">main</span> <span class="o">=</span> <span class="n">Ordering</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 1, find the package server type you want    
</span></span></span><span class="line"><span class="cl"><span class="s2">    e.g. 835  PUBLIC_CLOUD_SERVER
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to get the &#39;listServerPackages&#39; information.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># main.listServerPackages()</span>
</span></span><span class="line"><span class="cl">    <span class="n">package_id</span> <span class="o">=</span> <span class="mi">835</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 2, collect all the pieces you want to order
</span></span></span><span class="line"><span class="cl"><span class="s2">    getServerPrices will list out all the keyNames and cost of components
</span></span></span><span class="line"><span class="cl"><span class="s2">    that can be ordered on a certain package. Will also list the DCs that this
</span></span></span><span class="line"><span class="cl"><span class="s2">    server is available in.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to &#39;getServerPrices&#39; information.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># main.getServerPrices(package_id)</span>
</span></span><span class="line"><span class="cl">    <span class="n">location_id</span> <span class="o">=</span> <span class="mi">1441195</span>  <span class="c1"># &#34;DALLAS10&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 3, will list all active presets.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to &#39;getServerPrices&#39; information.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># main.listActivePresets(package_id)</span>
</span></span><span class="line"><span class="cl">    <span class="n">preset_id</span> <span class="o">=</span> <span class="mi">345</span>  <span class="c1"># &#34;B1_8X16X100&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 4, will list all available public and private vlans.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to &#39;listAvailableVlans&#39; information.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># main.listAvailableVlans(location_id, package_id)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pub_vlan_id</span> <span class="o">=</span> <span class="mi">1401234</span>
</span></span><span class="line"><span class="cl">    <span class="n">priv_vlan_id</span> <span class="o">=</span> <span class="mi">221234</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 5, will list all available routers.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to &#39;listAvailableRouters&#39; information.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># main.listAvailableRouters(location_id)</span>
</span></span><span class="line"><span class="cl">    <span class="n">pub_router_id</span> <span class="o">=</span> <span class="mi">1071234</span>
</span></span><span class="line"><span class="cl">    <span class="n">priv_router_id</span> <span class="o">=</span> <span class="mi">1881234</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 6, To order a virtual server by backend/frontend vlan.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to order a virtual server.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># main.main(package_id, location_id, pub_vlan_id, priv_vlan_id, preset_id, &#34;vlan&#34;)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Step 7, To order a virtual server by backend/frontend router.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Remove the comment symbol &#39;#&#39; below to order a virtual server.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># main.main(package_id, location_id, pub_router_id, priv_router_id, preset_id, &#34;router&#34;)</span>
</span></span></code></pre></div>
            </div>
        </div>

    </div>
    <hr>
    <div class="row">
        <div class="row">
            <div class="col-md-6">
    <div class="well well-sm" style="word-wrap: break-word;"> 
        <strong>Feedback? <span class="fas fa-comment"/></strong>
            <p>
                If this article contains any error, or leaves any of your questions unanswered, please help us out by 
                opening up a github issue.<br>
                <a class="" href="https://github.com/softlayer/githubio_source/issues/new?title=Feedback%20for%20python%20-%20Order%20a%20Virtual%20and%20Bare%20Metal%20Server%20by%20frondend%2fbackend%20vlan%20or%20router&body=Feedback+regarding%3A%20https%3a%2f%2fsldn.softlayer.com%2fpython%2forder_server_by_vlan_router.py%2f"> Open an issue</a>
                <i class="fab fa-github" alt="github"></i>
                <span> - </span>
                <a class="" href="https://github.com/softlayer/githubio_source/edit/master/content/python/python/order_server_by_vlan_router.py.md.md" style="text-align: right;"> Quick Edit</a>
                <i class="fab fa-github" alt="github"></i>

            </p>
    </div>
</div>

        </div>
    </div>
<footer>
    <div class="row">
        <div class="col-sm-12">
            <p>&copy; SoftLayer 2024<br>
            Built with <a href="https://github.com/spf13/hugo">Hugo</a></p>
        </div>
    </div>
</footer>
</div>

    <script src="https://sldn.softlayer.com/js/jquery.js"></script>
    <script src="https://sldn.softlayer.com/js/bootstrap.js"></script>
</body>
</html>
