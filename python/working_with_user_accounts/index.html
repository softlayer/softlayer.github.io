<!doctype html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SoftLayer API Examples, implementations, and release notes.">
    <meta name="author" content="SoftLayer">

    <title>Working with User Accounts - https://sldn.softlayer.com/</title>
    <link rel="canonical" href="https://sldn.softlayer.com/python/working_with_user_accounts/">
        <link href="https://sldn.softlayer.com/css/main.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/bootstrap.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/custom.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/monokai.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/highlight/solarized_dark.css" rel="stylesheet">
    

    <script src="https://sldn.softlayer.com/js/highlight.pack.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="shortcut icon" href="https://sldn.softlayer.com/img/favicon.ico" type="image/x-icon" />
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato" />
            

    <script src="https://sldn.softlayer.com/js/jquery-3.3.1.min.js"></script> 
    <script src="https://sldn.softlayer.com/js/sldn.js"></script>


    <link href="https://sldn.softlayer.com/fontawesome/css/fontawesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/brands.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/solid.min.css" rel="stylesheet" type="text/css">
    
    <script defer src="https://sldn.softlayer.com/fontawesome/js/solid.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/brands.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/fontawesome.min.js"></script>

    <script>
        var head = document.getElementsByTagName('head')[0]
        var style = document.createElement('link')
        style.type = 'text/css'
        style.rel = 'stylesheet'
        style.id = "dark-theme"
        if (localStorage.getItem("dark-mode-theme") == "dark") {
            style.href = '/css/dark.css'
        } else {
            style.href = '/css/light.css'
        }
        head.append(style)
    </script>

    <script>
		$(document).ready(function() {
			$('table').addClass("table table-hover table-striped")
            setThemeMode(localStorage.getItem("dark-mode-theme") || "dark");
		})
	</script>
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9XPZ9ZBSJE"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-9XPZ9ZBSJE', { 'anonymize_ip': false });
}
</script>

</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="nav-container">
            <div class="navbar-header" style="width: 150px">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://sldn.softlayer.com/">SoftLayer API</a>
            </div>

            <div class="navbar-header" style="width: calc(100% - 350px)">
                <ul class="nav navbar-nav" style="width: 100%">
                    
                        <li><a href="https://sldn.softlayer.com/article/">Articles</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/reference/softlayerapi">Docs</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/go/">Go</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/java/">Java</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/php/">PHP</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/python/">Python</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/rest/">Rest</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/ruby/">Ruby</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/tools/">Tools</a></li>
                    
                    <li class="nav-item">
                        <a id="dark-toggle" class="dark-mode-toggle" aria-label="dark-mode-toggle" style="color: var(--Red); font-size: 20px">
                            <i class="fas fa-sun"></i>
                        </a>
                    </li>
                </ul>
            </div>

            <div id="custom-search-input" class="pull-right" style="width: 200px">
              <form class="navbar-form" role="search" method="get" action="https://www.bing.com/search">
                <div class="input-group col-md-12">
                  <input type="text" class="form-control input-md" placeholder="Search" name="q" id="srch-term">
                  <input type="hidden" name="q1" value="site:sldn.softlayer.com" />
                  <div class="input-group-btn">
                    <button class="btn btn-info" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </div>
                </div>
              </form>
            </div>

        </div>
    </nav>

<script type="text/javascript">
const darkIconClass = 'fas fa-moon'
const lightIconClass = 'fas fa-sun'
var darkCSS = $("#dark-theme");
var darkToggleIcon = $("#dark-toggle i");




function setThemeMode(mode) {
    localStorage.setItem("dark-mode-theme", mode);
    if (mode === "dark") {
        darkToggleIcon.attr('class', darkIconClass)
    } else  {
        darkToggleIcon.attr('class', lightIconClass)
    }
}


$("#dark-toggle").click(function () {
  if (darkToggleIcon.attr("class") == lightIconClass) {
    setThemeMode("dark")
  } else if (darkToggleIcon.attr("class") == darkIconClass) {
    setThemeMode("light")
  }
  location.reload();
});
</script>
<div class="container">
    <div class="row">
    
        <div class="col-md-3">
            <div style="word-wrap: break-word;"> 
                <h4>January 3, 2022<br></h4>
            </div>
        </div>
        <div class="col-md-9">

                <strong>Classes <span class="fa fa-book"/></strong>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Account">SoftLayer_Account</a>
                
                <br>
                <strong>Tags <span class="fa fa-tags"/></strong>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/user">user</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/account">account</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/user_account">user_account</a>
                          
        </div>
    </div>
    <hr>
    <div class="row">
		<div class="col-md-12">
            <div class="well well-sm  article" style="word-wrap: break-word;">
                <div class="article-title">
				    <h1>Working with User Accounts</h1>
                    <small>A few examples on interacting with User Accounts</small>
                </div>
				
                
				
                <h3 id="setup">Setup</h3>
<p>All the functions defined in this article will be part of this <code>UserAccount</code> class. Which only sets up the SoftLayer Client, and configures the debugger, which allows you to see the exact API calls being made.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">SoftLayer</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">SoftLayer.CLI</span> <span class="kn">import</span> <span class="n">environment</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">SoftLayer.CLI</span> <span class="kn">import</span> <span class="n">formatting</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">UserAccount</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">create_client_from_env</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">debugger</span> <span class="o">=</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">DebugTransport</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">transport</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;User_Customer&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;Account&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_api_authentication_service</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">[</span><span class="s1">&#39;User_Customer_ApiAuthentication&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">transport</span> <span class="o">=</span> <span class="n">debugger</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">env</span> <span class="o">=</span> <span class="n">environment</span><span class="o">.</span><span class="n">Environment</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">call</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">transport</span><span class="o">.</span><span class="n">get_last_calls</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">pprint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">transport</span><span class="o">.</span><span class="n">print_reproduceable</span><span class="p">(</span><span class="n">call</span><span class="p">))</span>
</span></span></code></pre></div><h2 id="get-user-status">Get User status</h2>
<p>To list the status of sub-users needs the user customer id, <code>list_sub_users(self, user_customer_id)</code> method calls to SoftLayer_User_Customer::getChildUsers method to retrieve the user list.</p>
<h3 id="python">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">list_sub_users</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_customer_id</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">mask</span> <span class="o">=</span> <span class="s2">&#34;mask[id,lastName,firstName,username,userStatusId,sslVpnAllowedFlag]&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">getChildUsers</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_customer_id</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">fout</span><span class="p">(</span><span class="n">formatting</span><span class="o">.</span><span class="n">iter_to_table</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span>
</span></span></code></pre></div><h2 id="disable-user-can-edit-settings">Disable user can edit settings</h2>
<p>To edit settings needs the username of user.</p>
<h3 id="python-1">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">disable_user_can_edit_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">object_filter_user</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;users&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;username&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;operation&#34;</span><span class="p">:</span> <span class="n">user_name</span><span class="p">}}}</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span><span class="o">.</span><span class="n">getUsers</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">object_filter_user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;secondaryLoginManagementFlag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">editObject</span><span class="p">(</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">id</span><span class="o">=</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span>
</span></span></code></pre></div><h2 id="duplicate-user">Duplicate User</h2>
<p>To duplicate user needs the username of the user to copy and the username, office phone, user password, VPN password, first name, last name and email of the new user, the method create a new user with the same permissions, servers and virtual servers that the original user.</p>
<h3 id="python-2">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">object_filter</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;users&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;username&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;operation&#34;</span><span class="p">:</span> <span class="n">username</span><span class="p">}}}</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">users</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span><span class="o">.</span><span class="n">getUsers</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">object_filter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">SoftLayerAPIError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Unable to get the user. &#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">faultCode</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">faultString</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_user_permissions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">permissions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">getPermissions</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">SoftLayerAPIError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Unable to get the user permissions. &#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">faultCode</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">faultString</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">permissions</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_user_servers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">servers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">getHardware</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">SoftLayerAPIError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Unable to get the servers. &#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">faultCode</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">faultString</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">server_ids</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">server</span> <span class="ow">in</span> <span class="n">servers</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">server_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">server</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">server_ids</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_user_vsis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">vsis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">getVirtualGuests</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">SoftLayerAPIError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Unable to get the VSIs. &#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">faultCode</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">faultString</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">vsis_ids</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">vsi</span> <span class="ow">in</span> <span class="n">vsis</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">vsis_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vsi</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">vsis_ids</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">duplicate_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_to_copy</span><span class="p">,</span> <span class="n">newUserName</span><span class="p">,</span> <span class="n">newOfficePhone</span><span class="p">,</span> <span class="n">newUserPassword</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">newVPNPassword</span><span class="p">,</span> <span class="n">newFirstName</span><span class="p">,</span> <span class="n">newLastName</span><span class="p">,</span> <span class="n">newEmail</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">user</span> <span class="o">=</span> <span class="n">user_account</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="n">user_to_copy</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">permissions</span> <span class="o">=</span> <span class="n">user_account</span><span class="o">.</span><span class="n">get_user_permissions</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">server_access</span> <span class="o">=</span> <span class="n">user_account</span><span class="o">.</span><span class="n">get_user_servers</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">vsi_access</span> <span class="o">=</span> <span class="n">user_account</span><span class="o">.</span><span class="n">get_user_vsis</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">templateObject</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;accountId&#34;</span><span class="p">:</span> <span class="n">user</span><span class="p">[</span><span class="s1">&#39;accountId&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;address1&#34;</span><span class="p">:</span> <span class="n">user</span><span class="p">[</span><span class="s1">&#39;address1&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;city&#34;</span><span class="p">:</span> <span class="n">user</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;companyName&#34;</span><span class="p">:</span> <span class="n">user</span><span class="p">[</span><span class="s1">&#39;companyName&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;country&#34;</span><span class="p">:</span> <span class="n">user</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;daylightSavingsTimeFlag&#34;</span><span class="p">:</span> <span class="n">user</span><span class="p">[</span><span class="s1">&#39;daylightSavingsTimeFlag&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;email&#34;</span><span class="p">:</span> <span class="n">newEmail</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;firstName&#34;</span><span class="p">:</span> <span class="n">newFirstName</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;lastName&#34;</span><span class="p">:</span> <span class="n">newLastName</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;officePhone&#34;</span><span class="p">:</span> <span class="n">newOfficePhone</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># The user ID of the user which is creating this user</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;parentId&#34;</span><span class="p">:</span> <span class="n">user</span><span class="p">[</span><span class="s1">&#39;parentId&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;postalCode&#34;</span><span class="p">:</span> <span class="n">user</span><span class="p">[</span><span class="s1">&#39;postalCode&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;state&#34;</span><span class="p">:</span> <span class="n">user</span><span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;timezoneId&#34;</span><span class="p">:</span> <span class="n">user</span><span class="p">[</span><span class="s1">&#39;timezoneId&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># 1001 = Active; 1002 = Disable; 1003 = Inactive; 1021 = Delete ; 1022 = VPN Only</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;userStatusId&#34;</span><span class="p">:</span> <span class="n">user</span><span class="p">[</span><span class="s1">&#39;userStatusId&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;username&#34;</span><span class="p">:</span> <span class="n">newUserName</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">newUser</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">createObject</span><span class="p">(</span><span class="n">templateObject</span><span class="p">,</span> <span class="n">newUserPassword</span><span class="p">,</span> <span class="n">newVPNPassword</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;user created&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">addBulkPortalPermission</span><span class="p">(</span><span class="n">permissions</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">newUser</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;permissions added&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">addBulkHardwareAccess</span><span class="p">(</span><span class="n">server_access</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">newUser</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;servers added&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">addBulkVirtualGuestAccess</span><span class="p">(</span><span class="n">vsi_access</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">newUser</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;VSIs added&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">SoftLayerAPIError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Unable to create new user. &#34;</span> <span class="o">%</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">faultCode</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">faultString</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">            <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            
</span></span></code></pre></div><h2 id="enable-user-can-edit-settings">Enable user can edit settings</h2>
<p>To edit settings needs the username of user.</p>
<h3 id="python-3">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">enable_user_can_edit_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">object_filter_user</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;users&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;username&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;operation&#34;</span><span class="p">:</span> <span class="n">user_name</span><span class="p">}}}</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span><span class="o">.</span><span class="n">getUsers</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">object_filter_user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;secondaryLoginManagementFlag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">editObject</span><span class="p">(</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">id</span><span class="o">=</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span>
</span></span></code></pre></div><h2 id="toggle-security-questions">Toggle Security Questions</h2>
<p>To disable and enable require security questions on log in needs the username of the user.</p>
<h3 id="python-4">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">toggle_security_questions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">object_filter_user</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;users&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;username&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;operation&#34;</span><span class="p">:</span> <span class="n">user_name</span><span class="p">}}}</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span><span class="o">.</span><span class="n">getUsers</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">object_filter_user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># DISABLE</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;secondaryLoginRequiredFlag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># ENABLE</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;secondaryLoginRequiredFlag&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">editObject</span><span class="p">(</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">id</span><span class="o">=</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span>
</span></span></code></pre></div><h2 id="show-user-accounts-with-and-without-two-factor-enabled">Show user accounts with and without two-factor enabled</h2>
<p>The first method is to get the user accounts with two-factor enabled and the second to the user accounts with two-factor disabled.</p>
<h3 id="python-5">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_users_with_two_factor_authentication_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">mask</span> <span class="o">=</span> <span class="s2">&#34;mask[id,username,firstName,lastName,externalBindingCount,externalBindings]&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">object_filter</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;users&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;externalBindings&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="s1">&#39;operation&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span><span class="o">.</span><span class="n">getUsers</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">object_filter</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_users_with_two_factor_authentication_disabled</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">mask</span> <span class="o">=</span> <span class="s2">&#34;mask[id,username,firstName,lastName,externalBindingCount,externalBindings]&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">object_filter</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;users&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;externalBindings&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="s1">&#39;operation&#39;</span><span class="p">:</span> <span class="s1">&#39;0&#39;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span><span class="o">.</span><span class="n">getUsers</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">object_filter</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span>
</span></span></code></pre></div><h2 id="set-user-permissions">Set user permissions</h2>
<p>To set the user permission needs the user id, the method prints the initial permissions, adds TICKET_ADD permision to the user and prints the updated permissions.</p>
<h3 id="python-6">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_permissions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">permissions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">getPermissions</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">user_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">permissions</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">print_permissions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">permissions</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">permission</span> <span class="ow">in</span> <span class="n">permissions</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="si">%s</span><span class="s2">&#34;</span> <span class="o">%</span> <span class="n">permission</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">add_ticket_permission</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">permissions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_permissions</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;=== OLD PERMISSIONS ===&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">print_permissions</span><span class="p">(</span><span class="n">permissions</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">setperm</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;keyName&#39;</span><span class="p">:</span> <span class="s2">&#34;TICKET_ADD&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">addPortalPermission</span><span class="p">(</span><span class="n">setperm</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">user_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">permissions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_permissions</span><span class="p">(</span><span class="n">user_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;=== NEW PERMISSIONS ===&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">print_permissions</span><span class="p">(</span><span class="n">permissions</span><span class="p">)</span>
</span></span></code></pre></div><h2 id="change-passwords">Change Passwords</h2>
<p>The method use a prefix to find all matching users on your account and change their password, the method needs a prefix to find users and the new password.</p>
<h3 id="python-7">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_target_users</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="nb">filter</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;users&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;username&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="s1">&#39;operation&#39;</span><span class="p">:</span> <span class="s1">&#39;*= </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="n">mask</span> <span class="o">=</span> <span class="s2">&#34;mask[id,username]&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span><span class="o">.</span><span class="n">getUsers</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="nb">filter</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">users</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">change_password_with_user_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">new_password</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_target_users</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;Changing password for: &#34;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&#34; &#34;</span> <span class="o">+</span> <span class="n">user</span><span class="p">[</span><span class="s1">&#39;username&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">updatePassword</span><span class="p">(</span><span class="n">new_password</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">users</span>
</span></span></code></pre></div><h2 id="create-subscriber">Create subscriber</h2>
<p>To create a subscription to an unplanned incident needs the customer id and an array of delivery method keynames, <code>add_susbcription(self, delivery_method_key_names, customer_id)</code> method calls to SoftLayer_User_Customer::createSubscriberDeliveryMethods method to create subscriber.</p>
<h3 id="python-8">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">add_susbcription</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delivery_method_key_names</span><span class="p">,</span> <span class="n">customer_id</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">templates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">createSubscriberDeliveryMethods</span><span class="p">(</span><span class="s2">&#34;UNPLANNED_INCIDENT&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">            <span class="n">delivery_method_key_names</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">customer_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">pprint</span><span class="p">(</span><span class="n">templates</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">templates</span>
</span></span></code></pre></div><h2 id="toggle-email-invoice-notifications">Toggle email invoice notifications</h2>
<p>To disable and enable email invoice notifications needs the username of the user, <code>toggle_email_invoice_notifications(self, user_name)</code> method calls to SoftLayer_User_Customer::deactivateNotificationSubscriber method to disable notifications and SoftLayer_User_Customer::createNotificationSubscriber method to enable notifications.</p>
<h3 id="python-9">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">toggle_email_invoice_notifications</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">object_filter_user</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;users&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;username&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;operation&#34;</span><span class="p">:</span> <span class="n">user_name</span><span class="p">}}}</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span><span class="o">.</span><span class="n">getUsers</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">object_filter_user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># DISABLE</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">deactivateNotificationSubscriber</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;BILLING_INVOICE_CREATED&#34;</span><span class="p">,</span> <span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;accountId&#39;</span><span class="p">],</span> <span class="nb">id</span><span class="o">=</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># ENABLE</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># result = self.user_customer_service.createNotificationSubscriber(</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#   &#34;BILLING_INVOICE_CREATED&#34;, users[0][&#39;accountId&#39;], id=users[0][&#39;id&#39;])</span>
</span></span><span class="line"><span class="cl">        <span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span>
</span></span></code></pre></div><h2 id="set-restrict-access-to-ip">Set restrict access to ip</h2>
<p>To restrict the access from user to specific ip needs the username and the ip address, <code>set_restrict_access_to_ip(self, user_name, ip_address)</code> method calls to SoftLayer_User_Customer::editObject method to edit ipAddressRestriction attribute.</p>
<h3 id="python-10">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">set_restrict_access_to_ip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name</span><span class="p">,</span> <span class="n">ip_address</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">object_filter_user</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;users&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;username&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;operation&#34;</span><span class="p">:</span> <span class="n">user_name</span><span class="p">}}}</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span><span class="o">.</span><span class="n">getUsers</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">object_filter_user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># Set the value to &#34;&#34; to delete the previous configured IP address.</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;ipAddressRestriction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ip_address</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">editObject</span><span class="p">(</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">id</span><span class="o">=</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span>
</span></span></code></pre></div><h2 id="set-expire-password">Set expire password</h2>
<p>To set the expire password needs the username and the number of days that the password will be active, <code>set_expire_password_in(self, user_name, number_of_days)</code> method calls to SoftLayer_User_Customer::editObject method to edit secondaryPasswordTimeoutDays attribute.</p>
<h3 id="python-11">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">set_expire_password_in</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name</span><span class="p">,</span> <span class="n">number_of_days</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">object_filter_user</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;users&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;username&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;operation&#34;</span><span class="p">:</span> <span class="n">user_name</span><span class="p">}}}</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span><span class="o">.</span><span class="n">getUsers</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">object_filter_user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># Set the value to 0 for never</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;secondaryPasswordTimeoutDays&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">number_of_days</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">editObject</span><span class="p">(</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">id</span><span class="o">=</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span>
</span></span></code></pre></div><h2 id="set-api-ip-address-restriction">Set api ip address restriction</h2>
<p>To set API IP address restriction needs the username and the ip address.</p>
<h3 id="python-12">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">set_api_ip_address_restriction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name</span><span class="p">,</span> <span class="n">ip_address</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">object_filter_user</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;users&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;username&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;operation&#34;</span><span class="p">:</span> <span class="n">user_name</span><span class="p">}}}</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span><span class="o">.</span><span class="n">getUsers</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">object_filter_user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">keys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">getApiAuthenticationKeys</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="n">keys</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&#34;ipAddressRestriction&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ip_address</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_api_authentication_service</span><span class="o">.</span><span class="n">editObject</span><span class="p">(</span><span class="n">keys</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">id</span><span class="o">=</span><span class="n">keys</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span>
</span></span></code></pre></div><h2 id="get-notification-subscribers">Get notification subscribers</h2>
<p>To get notification subscribers needs the username, <code>get_notification_subscribers(self, user_name)</code> method calls to SoftLayer_User_Customer::getSubscribers method to list the notification subscribers.</p>
<h3 id="python-13">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">get_notification_subscribers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">object_filter_user</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;users&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;username&#34;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&#34;operation&#34;</span><span class="p">:</span> <span class="n">user_name</span><span class="p">}}}</span>
</span></span><span class="line"><span class="cl">        <span class="n">users</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">account_service</span><span class="o">.</span><span class="n">getUsers</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">object_filter_user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_customer_service</span><span class="o">.</span><span class="n">getSubscribers</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">users</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">result</span>
</span></span></code></pre></div><h2 id="running-the-example">Running the Example</h2>
<h3 id="python-14">Python</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span> <span class="o">=</span> <span class="n">UserAccount</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">test_username</span> <span class="o">=</span> <span class="s2">&#34;username0235&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">test_user_id</span> <span class="o">=</span> <span class="mi">12345678</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Get User status</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">list_sub_users</span><span class="p">(</span><span class="n">test_user_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Disable user can edit settings</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">disable_user_can_edit_settings</span><span class="p">(</span><span class="n">test_username</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Duplicate User</span>
</span></span><span class="line"><span class="cl">    <span class="n">userToCopy</span> <span class="o">=</span> <span class="s2">&#34;originalUsername&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">newUserName</span> <span class="o">=</span> <span class="s2">&#34;target&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">newUserPassword</span> <span class="o">=</span> <span class="s2">&#34;Passwords2.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">newVPNPassword</span> <span class="o">=</span> <span class="s2">&#34;Passwords2.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">newOfficePhone</span> <span class="o">=</span> <span class="s2">&#34;512365485&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">newFirstName</span> <span class="o">=</span> <span class="s2">&#34;myFistName&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">newLastName</span> <span class="o">=</span> <span class="s2">&#34;myLastName&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">newEmail</span> <span class="o">=</span> <span class="s2">&#34;myemail@softlayer.com&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">duplicate_user</span><span class="p">(</span><span class="n">user_to_copy</span><span class="p">,</span> <span class="n">newUserName</span><span class="p">,</span> <span class="n">newOfficePhone</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="n">newUserPassword</span><span class="p">,</span> <span class="n">newVPNPassword</span><span class="p">,</span> <span class="n">newFirstName</span><span class="p">,</span> <span class="n">newLastName</span><span class="p">,</span> <span class="n">newEmail</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Enable user can edit settings</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">enable_user_can_edit_settings</span><span class="p">(</span><span class="n">test_username</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Toggle Security Questions</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">toggle_security_questions</span><span class="p">(</span><span class="n">test_username</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Show user accounts with and without two-factor enabled</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">get_users_with_two_factor_authentication_enabled</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">get_users_with_two_factor_authentication_disabled</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Set user permissions</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">add_ticket_permission</span><span class="p">(</span><span class="n">test_user_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Change Passwords</span>
</span></span><span class="line"><span class="cl">    <span class="n">prefix</span> <span class="o">=</span> <span class="s2">&#34;PREFIX&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">password</span> <span class="o">=</span> <span class="s2">&#34;qweASDzxc!23&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">change_password_with_user_prefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Change Passwords</span>
</span></span><span class="line"><span class="cl">    <span class="n">delivery_method_key_names</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;EMAIL&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">add_susbcription</span><span class="p">(</span><span class="n">delivery_method_key_names</span><span class="p">,</span> <span class="n">test_user_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Toggle email invoice notifications</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">toggle_email_invoice_notifications</span><span class="p">(</span><span class="n">test_username</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Set restrict access to ip</span>
</span></span><span class="line"><span class="cl">    <span class="n">ip_address</span> <span class="o">=</span> <span class="s2">&#34;10.2.32.4&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">set_restrict_access_to_ip</span><span class="p">(</span><span class="n">test_username</span><span class="p">,</span> <span class="n">ip_address</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Set expire password</span>
</span></span><span class="line"><span class="cl">    <span class="n">password_active_days</span> <span class="o">=</span> <span class="mi">90</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">set_expire_password_in</span><span class="p">(</span><span class="n">test_username</span><span class="p">,</span> <span class="n">password_active_days</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Set api ip address restriction</span>
</span></span><span class="line"><span class="cl">    <span class="n">ip_address</span> <span class="o">=</span> <span class="s2">&#34;10.10.10.10&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">set_restrict_access_to_ip</span><span class="p">(</span><span class="n">test_username</span><span class="p">,</span> <span class="n">ip_address</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># Get notification subscribers</span>
</span></span><span class="line"><span class="cl">    <span class="n">user_account</span><span class="o">.</span><span class="n">get_notification_subscribers</span><span class="p">(</span><span class="n">test_username</span><span class="p">)</span>
</span></span></code></pre></div>
            </div>
        </div>

    </div>
    <hr>
    <div class="row">
        <div class="row">
            <div class="col-md-6">
    <div class="well well-sm footer" style="word-wrap: break-word;"> 
        <strong>Feedback? <span class="fas fa-comment"/></strong>
            <p>
                If this article contains any error, or leaves any of your questions unanswered, please help us out by 
                opening up a github issue.<br>
                <a class="" href="https://github.com/softlayer/githubio_source/issues/new?title=Feedback%20for%20python%20-%20Working%20with%20User%20Accounts&body=Feedback+regarding%3A%20https%3a%2f%2fsldn.softlayer.com%2fpython%2fworking_with_user_accounts%2f"> Open an issue</a>
                <i class="fab fa-github" alt="github"></i>
                <span> - </span>
                <a class="" href="https://github.com/softlayer/githubio_source/edit/master/content/python/python/working_with_user_accounts.md.md" style="text-align: right;"> Quick Edit</a>
                <i class="fab fa-github" alt="github"></i>

            </p>
    </div>
</div>

        </div>
    </div>
<footer>
    <div class="row">
        <div class="col-sm-12 footer">
            <p>&copy; SoftLayer 2024<br>
            Built with <a href="https://github.com/spf13/hugo">Hugo</a></p>
        </div>
    </div>
</footer>
</div>

    <script src="https://sldn.softlayer.com/js/jquery.js"></script>
    <script src="https://sldn.softlayer.com/js/bootstrap.js"></script>
</body>
</html>
