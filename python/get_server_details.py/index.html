<!doctype html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SoftLayer API Examples, implementations, and release notes.">
    <meta name="author" content="SoftLayer">

    <title>get_server_details.py - https://sldn.softlayer.com/</title>
    <link rel="canonical" href="https://sldn.softlayer.com/python/get_server_details.py/">
        <link href="https://sldn.softlayer.com/css/main.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/bootstrap.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/fa-svg-with-js.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/custom.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/highlight/solarized_dark.css" rel="stylesheet">

    <script src="https://sldn.softlayer.com/js/highlight.pack.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="shortcut icon" href="https://sldn.softlayer.com/img/favicon.ico" type="image/x-icon" />
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato" />
            

    <script src="https://sldn.softlayer.com/js/jquery-3.3.1.min.js"></script> 
    <script src="https://sldn.softlayer.com/js/sldn.js"></script>
    <script src="https://sldn.softlayer.com/js/fontawesome-all.js"></script>

    <script>
		$(document).ready(function() {
			$('table').addClass("table table-hover table-striped")
		})
	</script>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-88235803-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://sldn.softlayer.com/">SoftLayer API</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    
                        <li><a href="https://sldn.softlayer.com/article/">Articles</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/reference/softlayerapi">Documentation</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/go/">Go</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/java/">Java</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/perl/">Perl</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/python/">Python</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/rest/">Rest</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/ruby/">Ruby</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/tools/">Tools</a></li>
                    

                    
                </ul>
                <div id="custom-search-input" class="pull-right">
                  <form class="navbar-form" role="search" method="get" action="https://www.bing.com/search">
                    <div class="input-group col-md-12">
                      <input type="text" class="form-control input-md" placeholder="Search" name="q" id="srch-term">
                      <input type="hidden" name="q1" value="site:sldn.softlayer.com" />
                      <div class="input-group-btn">
                        <button class="btn btn-info" type="submit">
                          <i class="glyphicon glyphicon-search"></i>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
            </div>
        </div>
    </nav>

<div class="container">
    <div class="row">
    
        <div class="col-md-3">
            <div style="word-wrap: break-word;"> 
                <h4>November 23, 2017<br></h4>
            </div>
        </div>
        <div class="col-md-9">

                <strong>Classes <span class="fa fa-book"/></strong>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Account">SoftLayer_Account</a>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Hardware_Server">SoftLayer_Hardware_Server</a>
                
                <br>
                <strong>Tags <span class="fa fa-tags"/></strong>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/baremetalservers">baremetalservers</a>
                          
        </div>
    </div>
    <hr>
    <div class="row">
		<div class="col-md-12">
            <div class="well well-sm release-note" style="word-wrap: break-word;">
				<h3>get_server_details.py<br> <small>get_server_details.py</small></h3>
				
                
				
                <pre><code>&quot;&quot;&quot;
Get Bare Metal details.

Retrieve a list of bare metal servers in the account and print
a report with server hostname, domain, login info, network, CPU,
and RAM details.
This script makes a single call to the getHardware() method in the
SoftLayer_Account API service  and uses an object mask to retrieve
related information.
See below for more details.

Important manual pages:
http://sldn.softlayer.com/reference/services/SoftLayer_Account/getHardware
http://sldn.softlayer.com/reference/datatypes/SoftLayer_Hardware_Server/

License: http://sldn.softlayer.com/article/License
Author: SoftLayer Technologies, Inc. &lt;sldn@softlayer.com&gt;
&quot;&quot;&quot;
import SoftLayer

&quot;&quot;&quot;
Your SoftLayer API username and key.

Generate an API key at the SoftLayer Customer Portal:
https://manage.softlayer.com/Administrative/apiKeychain
&quot;&quot;&quot;
# Your SoftLayer API username and key.
API_USERNAME = 'set-me'

# Generate one at https://control.softlayer.com/account/users
API_KEY = 'set-me'

&quot;&quot;&quot;
Add an object mask to retrieve our hardwares' related items such as its
operating system, hardware components, and network components. Object masks
can retrieve any information related to your object. See
# http://sldn.softlayer.com/reference/datatypes/SoftLayer_Hardware_Server
# for a list of the relational properties you can retrieve along with hardware.
&quot;&quot;&quot;
objectMask = 'processors, processorCount, memory, memoryCount, networkComponents, ' \
             'primaryIpAddress, operatingSystem.passwords'


# Declare a new API service object.
client = SoftLayer.create_client_from_env(username=API_USERNAME, api_key=API_KEY)
accountService = client['SoftLayer_Account']

try:
    # Make the call to retrieve our bare metal servers.`
    hardwareList = accountService.getHardware(mask=objectMask)
except SoftLayer.SoftLayerAPIError as e:
    &quot;&quot;&quot;
    If there was an error returned from the SoftLayer API then bomb out with the
    error message.
    &quot;&quot;&quot;
    print(&quot;Unable to retrieve the bare metal list. \nfaultCode= %s, \nfaultString= %s&quot;
          % (e.faultCode, e.faultString))

for hardware in hardwareList:
    passwords = {}
    passwords['username'] = &quot;no username&quot;
    passwords['password'] = &quot;no password&quot;
    if len(hardware['operatingSystem']['passwords']) &gt;= 1:
        passwords = hardware['operatingSystem']['passwords'][0]
        &quot;&quot;&quot;
    private network ports. Save MAC addresses.
    Go through the hardware's network components to get it's public and
    &quot;&quot;&quot;
        networks = hardware['networkComponents']
    publicMacAddress = 'not found'
    privateMacAddress = 'not found'
    for network in networks:
        &quot;&quot;&quot;
        SoftLayer uses eth0 on the private network and eth1 on the public
        network.
        &quot;&quot;&quot;
        if network['name'] == 'eth' and network['port'] == 0:
            privateMacAddress = network['macAddress']
        elif network['name'] == 'eth' and network['port'] == 1:
            publicMacAddress = network['macAddress']

    &quot;&quot;&quot;
    Hardware can only have like processors in them, so use the first item in
    the processors array to get the type of processor in the server.
    &quot;&quot;&quot;
    processorType = hardware['processors'][0]['hardwareComponentModel']['hardwareGenericComponentModel']['capacity'] +\
                    hardware['processors'][0]['hardwareComponentModel']['hardwareGenericComponentModel']['units'] + &quot; &quot; +\
                    hardware['processors'][0]['hardwareComponentModel']['hardwareGenericComponentModel']['description']

    # Treat memory the same way we did processors.
    memoryType = hardware['memory'][0]['hardwareComponentModel']['hardwareGenericComponentModel']['capacity'] +\
                 hardware['memory'][0]['hardwareComponentModel']['hardwareGenericComponentModel']['units'] + &quot; &quot; +\
                 hardware['memory'][0]['hardwareComponentModel']['hardwareGenericComponentModel']['description']

    # All done! Print hardware info.
    print(&quot;Hostname: &quot; + hardware['hostname'])
    print(&quot;Domain: &quot; + hardware['domain'])
    print(&quot;Login: &quot; + passwords['username'] + &quot;/&quot; + passwords['password'])

    # Check if Server was ordered with public &amp; private network
    # or just Private network only.
    if 'primaryIpAddress' in hardware:
        print(&quot;Public IP Address: &quot; + hardware['primaryIpAddress'])
    else:
        print(&quot;** Private Network Only server **&quot;)

    print(&quot;Public MAC Address: &quot; + publicMacAddress)
    print(&quot;Private IP Address: &quot; + hardware['privateIpAddress'])
    print(&quot;Private MAC Address: &quot; + privateMacAddress)
    print(&quot;CPUs: &quot; + str(hardware['processorCount']) + &quot;x &quot; + processorType)
    print(&quot;RAM: &quot; + str(hardware['memoryCount']) + &quot;x &quot; + memoryType)
    print(&quot; &quot;)

</code></pre>
            </div>
        </div>

    </div>
    <hr>
    <div class="row">
            
        <div class="col-md-6">
            
<div class="panel panel-default">
    <div class="panel-heading" style="padding: 2px 15px;">
        <h4>More Documentation</h4>
    </div>
    <div class="panel-body">
        <a href="https://softlayer.github.com/reference/softlayerapi"><i class="fa fa-link"></i> SoftLayer API Reference<br></a>
        <a href="https://github.com/softlayer/softlayer-java"><i class="fab fa-github"></i> softlayer-java<br></a>
        <a href="https://github.com/softlayer/softlayer-api-perl-client"><i class="fab fa-github"></i> softlayer-perl<br></a>
        <a href="https://github.com/softlayer/softlayer-api-php-client"><i class="fab fa-github"></i> softlayer-php<br></a>
        <a href="https://github.com/softlayer/softlayer-python"><i class="fab fa-github"></i> softlayer-python<br></a>
        <a href="https://github.com/softlayer/softlayer-ruby"><i class="fab fa-github"></i> softlayer-ruby<br></a>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading text-center" style="padding: 2px 15px;">
      <a href="https://www.facebook.com/IBMBluemixIaaS/"><i class="fab fa-facebook-square" alt="facebook"></i> </a>
      <a href="https://twitter.com/IBMBluemixIaaS"><i class="fab fa-twitter" alt="twitter"></i> </a>
      <a href="http://www.linkedin.com/company/softlayer-technologies-inc-" alt="linked-in"><i class="fab fa-linkedin"></i> </a>
      <a href="https://github.com/softlayer/softlayer.github.io"><i class="fab fa-github" alt="github"></i> </a>

    </div>
</div>

        </div>
        <div class="col-md-6">
            <div class="well well-sm" style="word-wrap: break-word;"> 
                <strong>Feedback? <span class="fa fa-comment"/></strong>
                    <p>
                        We would love to hear it<br>
                        <a class="" href="https://github.com/softlayer/api_examples/issues/new?title=Feedback%20for%20python%20-%20get_server_details.py&body=Feedback+regarding%3A%20https%3a%2f%2fsldn.softlayer.com%2fpython%2fget_server_details.py%2f"><span class="fa fa-github-square"/> Open an issue</a>
                    </p>
            </div>
        </div>

    </div>
        <footer>
            <div class="row">
                <hr>
                <div class="col-sm-12">
                    <p>&copy; SoftLayer 2015<br>
                    Built with <a href="https://github.com/spf13/hugo">Hugo</a></p>
                </div>
            </div>
        </footer>
</div>

    <script src="https://sldn.softlayer.com/js/jquery.js"></script>
    <script src="https://sldn.softlayer.com/js/bootstrap.js"></script>
</body>
</html>
