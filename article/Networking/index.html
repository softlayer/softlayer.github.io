<!doctype html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SoftLayer API Examples, implementations, and release notes.">
    <meta name="author" content="SoftLayer">

    <title>Classic Infrastructure Networking - https://sldn.softlayer.com/</title>
    <link rel="canonical" href="https://sldn.softlayer.com/article/Networking/">
        <link href="https://sldn.softlayer.com/css/main.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/bootstrap.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/custom.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/monokai.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/highlight/solarized_dark.css" rel="stylesheet">

    <script src="https://sldn.softlayer.com/js/highlight.pack.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="shortcut icon" href="https://sldn.softlayer.com/img/favicon.ico" type="image/x-icon" />
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato" />
            

    <script src="https://sldn.softlayer.com/js/jquery-3.3.1.min.js"></script> 
    <script src="https://sldn.softlayer.com/js/sldn.js"></script>


    <link href="https://sldn.softlayer.com/fontawesome/css/fontawesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/brands.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/solid.min.css" rel="stylesheet" type="text/css">
    
    <script defer src="https://sldn.softlayer.com/fontawesome/js/solid.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/brands.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/fontawesome.min.js"></script>

    <script>
		$(document).ready(function() {
			$('table').addClass("table table-hover table-striped")
		})
	</script>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-88235803-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://sldn.softlayer.com/">SoftLayer API</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    
                        <li><a href="https://sldn.softlayer.com/article/">Articles</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/reference/softlayerapi">Documentation</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/go/">Go</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/java/">Java</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/perl/">Perl</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/php/">PHP</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/python/">Python</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/rest/">Rest</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/ruby/">Ruby</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/tools/">Tools</a></li>
                    

                    
                </ul>
                <div id="custom-search-input" class="pull-right">
                  <form class="navbar-form" role="search" method="get" action="https://www.bing.com/search">
                    <div class="input-group col-md-12">
                      <input type="text" class="form-control input-md" placeholder="Search" name="q" id="srch-term">
                      <input type="hidden" name="q1" value="site:sldn.softlayer.com" />
                      <div class="input-group-btn">
                        <button class="btn btn-info" type="submit">
                          <i class="glyphicon glyphicon-search"></i>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
            </div>
        </div>
    </nav>

<div class="container">
    <div class="row">
    
        <div class="col-md-3">
            <div style="word-wrap: break-word;"> 
                <h4>May 29, 2020<br></h4>
            </div>
        </div>
        <div class="col-md-9">
                <strong>Tags <span class="fa fa-tags"/></strong>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/article">article</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/sldn">sldn</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/network">network</a>
                          
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-md-12">
            <div class="well well-sm article" style="word-wrap: break-word;">
                <div class="article-title">
                    <h1>Classic Infrastructure Networking</h1>
                    <small>An overview of how networking is connected on Classic Infrastructure, and the APIs used to control it. </small>
                </div>
                
                
                
                <h1 id="pops-and-pods">POPs and PODs</h1>
<p>A Point Of Presence (POP) refers to the networking equipment responsible for handling traffic from The Internet and customer Direct Links. Each POP is connected to at least two others on our backend network</p>
<p>A Point of Delivery (POD) is a segmentation of our physical datacenters. Each POP will service several POD, although some POPs are standalone. These PODs are generally recognizable by their router in the datacenter.</p>
<h2 id="listing-datacenters-and-pods">Listing Datacenters and PODs</h2>
<p><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Location_Datacenter/getDatacenters/">SoftLayer_Location_Datacenter::getDatacenters</a> will return a list of all Datacenters and with an objectMask, can return each datacenter&rsquo;s routers.</p>
<p>Here, we have to force the API to use the SoftlLayer_Location_Datacenter objectMask instead of the default return type of SoftLayer_Location. That is why the objectMask is like <code>mask(SoftLayer_Location_Datacenter)[</code>.</p>
<h4 id="slcli">SLCLI</h4>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">slcli -vvv  call-api SoftLayer_Location_Datacenter getDatacenters  --mask=&#34;mask(SoftLayer_Location_Datacenter)[backendHardwareRouters[id,hostname]]&#34;
</code></pre></div><h4 id="rest">REST</h4>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">curl -u $SL_USER:$SL_APIKEY   &#39;https://api.softlayer.com/rest/v3.1/SoftLayer_Location_Datacenter/getDatacenters.json?objectMask=mask%28SoftLayer_Location_Datacenter%29%5BbackendHardwareRouters%5Bid%2Chostname%5D%5D&#39;
</code></pre></div><h4 id="result">Result</h4>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">:............................:.........:..............:.......:..........:
:   backendHardwareRouters   :    id   :   longName   :  name : statusId :
:............................:.........:..............:.......:..........:
: :..............:........:  :  265592 : Amsterdam 1  : ams01 :    2     :
: :   hostname   :   id   :  :         :              :       :          :
: :..............:........:  :         :              :       :          :
: : bcr01a.ams01 : 117917 :  :         :              :       :          :
: : bcr02a.ams01 : 190854 :  :         :              :       :          :
: :..............:........:  :         :              :       :          :
:............................:.........:..............:.......:..........:
</code></pre></div><p>bcr01a is Backend Customer Router 01a, so POD 1.
bcr02a is Backend Customer Router 02a, so Pod 2.</p>
<p>Each router will also have a <code>b</code> pair, but usually the API will only return the <code>a</code> of the pair, which is what we need for ordering purposes.</p>
<p>Selecting the correct POD at order time is important if you need all of your servers in the same datacenter to be on the same vlan or IP subnet.</p>
<h1 id="vlans">VLANs</h1>
<p><a href="https://cloud.ibm.com/docs/vlans?topic=vlans-getting-started">VLANs</a> are a way to isolate network traffic between servers. Each network capable resource provisioned will have at least one VLAN per network (Public/Private). This is done automatically and in general, doesn&rsquo;t need to be changed by the end user.</p>
<h2 id="vlan-spanninghttpscloudibmcomdocsvlanstopicvlans-vlan-spanning"><a href="https://cloud.ibm.com/docs/vlans?topic=vlans-vlan-spanning">Vlan Spanning</a></h2>
<p>By default this feature is disabled, preventing servers in your account from communicating with each other over the private network if they are on different VLANs. However this can be enabled quite easily either in the portal, or with <a href="reference/services/SoftLayer_Account/setVlanSpan/">SoftLayer_Account::setVlanSpan</a></p>
<h2 id="vlan-trunkingtagging">Vlan Trunking/Tagging</h2>
<p>VLan Trunking (or tagging) allows a server&rsquo;s network component to exist on multiple VLANs at the same time. This can only be done through the API.</p>
<ul>
<li><a href="python/vlanTagging/">Vlan Trunking Example</a></li>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Component/addNetworkVlanTrunks/">SoftLayer_Network_Component::addNetworkVlanTrunks</a> Adds a VLAN trunk to a Network Component</li>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Component/removeNetworkVlanTrunks/">SoftLayer_Network_Component::removeNetworkVlanTrunks</a> Removes a VLAN trunk to a Network Component</li>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Component/getNetworkVlanTrunks/">SoftLayer_Network_Component::getNetworkVlanTrunks</a> Lists all VLAN trunks on a Network Component</li>
</ul>
<h2 id="useful-vlan-apis">Useful VLAN APIs</h2>
<ul>
<li><a href="reference/services/SoftLayer_Network_Component/getNetworkVlan/">SoftLayer_Network_Component::getVlan</a> Gets the primary VLAN associated with a specific network component</li>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Vlan/">SoftLayer_Network_Vlan</a> most vlans will be of this Class</li>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Gateway_Vlan/">SoftLayer_Network_Gateway_Vlan</a> Vlans that belong to a gateway device.</li>
</ul>
<h1 id="subnetshttpscloudibmcomdocssubnetstopicsubnets-getting-started"><a href="https://cloud.ibm.com/docs/subnets?topic=subnets-getting-started">Subnets</a></h1>
<p>Subnets exist on VLANs, and provide compute resources IP addresses to access the network.  There are several different types of subnets to be concerned about.</p>
<h4 id="primary">Primary</h4>
<p>These are used by our provisoining system to automatically give an IP address to a compute resource. <strong>NEVER</strong> manually distribute IP space from these subnets, it disrupt provisioning on your account since our system will not know if you are using an IP out of this subnet.</p>
<h4 id="secondary-static">Secondary Static</h4>
<p>These subnets are routed to a specific IP address, and allow the server associated with the static IP to use all the ips in this subnet.</p>
<h4 id="secondary-portable">Secondary Portable</h4>
<p>These subnets are routed to a VLAN, and allows any server on that vlan access to IP space here. You lose 3 IPs for the Network IP, Gateway Ip, and Broadcast Ip.</p>
<h2 id="useful-subnet-apis">Useful Subnet APIs</h2>
<ul>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Subnet/">SoftLayer_Network_Subnet</a> Service used for interacting with subnets
<ul>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Subnet/createReverseDomainRecords/">createReverseDomainRecords</a> Create the default PTR records for this subnet</li>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Subnet/editNote/">editNote</a> Allows editing a subnet&rsquo;s note.</li>
</ul>
</li>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Subnet_IpAddress/">SoftLayer_Network_Subnet_IpAddress</a> Service used for interacting with IP addresses
<ul>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Subnet_IpAddress/findByIpv4Address/">findByIpv4Address</a> Looks up an IP address record by its ipv4 address</li>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Subnet_IpAddress/getVirtualGuest/">getVirtualGuest</a> and <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Subnet_IpAddress/getHardware/">getHardware</a> let you look up the VirtualGuest or Hardware object associated with a Primary IP</li>
</ul>
</li>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Network_Subnet_Rwhois_Data/">SoftLayer_Network_Subnet_Rwhois_Data</a> Service for interacting with Rwhois data.</li>
</ul>

            </div>
        </div>

    </div>
    <hr>
    <div class="row">
        <div class="col-md-6">
    <div class="well well-sm" style="word-wrap: break-word;"> 
        <strong>Feedback? <span class="fas fa-comment"/></strong>
            <p>
                If this article contains any error, or leaves any of your questions unanswered, please help us out by 
                opening up a github issue.<br>
                <a class="" href="https://github.com/softlayer/githubio_source/issues/new?title=Feedback%20for%20article%20-%20Classic%20Infrastructure%20Networking&body=Feedback+regarding%3A%20https%3a%2f%2fsldn.softlayer.com%2farticle%2fNetworking%2f"> Open an issue</a>
                <i class="fab fa-github" alt="github"></i>
            </p>
    </div>
</div>
    </div>
        <footer>
            <div class="row">
                <hr>
                <div class="col-sm-12">
                    <p>&copy; SoftLayer 2020<br>
                    Built with <a href="https://github.com/spf13/hugo">Hugo</a></p>
                </div>
            </div>
        </footer>
</div>

    <script src="https://sldn.softlayer.com/js/jquery.js"></script>
    <script src="https://sldn.softlayer.com/js/bootstrap.js"></script>
</body>
</html>

