<!doctype html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SoftLayer API Examples, implementations, and release notes.">
    <meta name="author" content="SoftLayer">

    <title>Understanding and building an order using the Softlayer order CLI - https://sldn.softlayer.com/</title>
    <link rel="canonical" href="https://sldn.softlayer.com/article/understanding-ordering/">
        <link href="https://sldn.softlayer.com/css/main.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/bootstrap.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/custom.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/monokai.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/highlight/solarized_dark.css" rel="stylesheet">

    <script src="https://sldn.softlayer.com/js/highlight.pack.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="shortcut icon" href="https://sldn.softlayer.com/img/favicon.ico" type="image/x-icon" />
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato" />
            

    <script src="https://sldn.softlayer.com/js/jquery-3.3.1.min.js"></script> 
    <script src="https://sldn.softlayer.com/js/sldn.js"></script>


    <link href="https://sldn.softlayer.com/fontawesome/css/fontawesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/brands.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/solid.min.css" rel="stylesheet" type="text/css">
    
    <script defer src="https://sldn.softlayer.com/fontawesome/js/solid.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/brands.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/fontawesome.min.js"></script>

    <script>
		$(document).ready(function() {
			$('table').addClass("table table-hover table-striped")
		})
	</script>
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9XPZ9ZBSJE"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-9XPZ9ZBSJE', { 'anonymize_ip': false });
}
</script>

</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://sldn.softlayer.com/">SoftLayer API</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    
                        <li><a href="https://sldn.softlayer.com/article/">Articles</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/reference/softlayerapi">Documentation</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/go/">Go</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/java/">Java</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/perl/">Perl</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/php/">PHP</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/python/">Python</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/rest/">Rest</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/ruby/">Ruby</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/tools/">Tools</a></li>
                    

                    
                </ul>
                <div id="custom-search-input" class="pull-right">
                  <form class="navbar-form" role="search" method="get" action="https://www.bing.com/search">
                    <div class="input-group col-md-12">
                      <input type="text" class="form-control input-md" placeholder="Search" name="q" id="srch-term">
                      <input type="hidden" name="q1" value="site:sldn.softlayer.com" />
                      <div class="input-group-btn">
                        <button class="btn btn-info" type="submit">
                          <i class="glyphicon glyphicon-search"></i>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
            </div>
        </div>
    </nav>

<div class="container">
    <div class="row">
    
        <div class="col-md-3">
            <div style="word-wrap: break-word;"> 
                <h4>March 12, 2018<br></h4>
            </div>
        </div>
        <div class="col-md-9">
                <strong>Tags <span class="fa fa-tags"/></strong>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/article">article</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/slcli">slcli</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/ordering">ordering</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/order">order</a>
                          
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-md-12">
            <div class="well well-sm article" style="word-wrap: break-word;">
                <div class="article-title">
                    <h1>Understanding and building an order using the Softlayer order CLI</h1>
                    <small>In version 5.4.0 of softlayer-python, there is a new slcli command for placing IaaS cloud server orders using the API. This command can also be used to place orders for products that are normally ordered through the IBM Cloud infrastructure customer portal.</small>
                </div>
                
                
                
                <p>In version 5.4.0 of <a href="https://github.com/softlayer/softlayer-python">softlayer-python</a>, there is a new slcli command for placing IaaS cloud server orders using the API. This command can also be used to place orders for products that are normally ordered through the IBM Cloud infrastructure customer portal. There are multiple helpers to assist you in creating a specific order. In these examples, you will learn how to:</p>
<ul>
<li>Build an order
<ol>
<li>Understand the order structure</li>
<li>Search for server packages</li>
<li>Identify categories of items</li>
<li>Verify the order</li>
<li>Place the order</li>
</ol>
</li>
<li>Place an order programmatically using Python.</li>
</ul>
<h2 id="build-an-order">Build an order</h2>
<h3 id="step-1-understand-the-order-structure">Step 1: Understand the order structure</h3>
<p>In the SoftLayer API, an order can consist of multiple order containers. For simplicity, the order CLI only works with one order container, so in these examples and explanations, the terms “order container” and “order” are synonymous.</p>
<p>A package is the first component to look for when placing an order. Packages are divided among the different top-level products available for ordering in SoftLayer. Some example packages are <em>CLOUD_SERVER</em> for VSIs, <em>BARE_METAL_SERVER</em> for bare metal servers, and <em>STORAGE_AS_A_SERVICE_STAAS</em> for Storage-as-a-Service. Within a package, there are items that are subdivided into categories. Some packages have presets for your convenience and others require that you specify items individually.  If a package’s category is required, an item from that category must be chosen to order the package.  Depending on the category, items within the category are mutually exclusive (for example, you can’t order both 8 GB and 16 GB of RAM for a VSI). Finally, each order must have an associated location (datacenter).</p>
<p><img src="https://sldn.softlayer.com/img/articles/Order_Structure.png" alt="packages"></p>
<p>When using the order CLI, we build an order from the top (package) to the bottom (items). You can use the slcli order package-list to find the package you want to order. A &ndash;keyword option is provided to perform some simple searching for filtering out packages, making it easier to find the package you need. For this example we will build a bare metal server order.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">$ slcli order package-list --help
</span></span><span class="line"><span class="cl">Usage: slcli order package-list <span class="o">[</span>OPTIONS<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  List packages that can be ordered via the placeOrder API.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Example:
</span></span><span class="line"><span class="cl">      <span class="c1"># List out all packages for ordering</span>
</span></span><span class="line"><span class="cl">      slcli order package-list
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Keywords can also be used <span class="k">for</span> some simple filtering functionality to <span class="nb">help</span>
</span></span><span class="line"><span class="cl">  find a package easier.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  Example:
</span></span><span class="line"><span class="cl">     <span class="c1"># List out all packages with &#34;server&#34; in the name</span>
</span></span><span class="line"><span class="cl">      slcli order package-list --keyword server
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Options:
</span></span><span class="line"><span class="cl">  --keyword TEXT  A word <span class="o">(</span>or string<span class="o">)</span> used to filter package names.
</span></span><span class="line"><span class="cl">  -h, --help      Show this message and exit.</span></span></code></pre></div>
<h3 id="step-2-search-for-server-packages">Step 2: Search for server packages</h3>
<p>We can use the “server” keyword to search for server packages:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ slcli order package-list --keyword &#34;Bare Metal&#34;
</span></span><span class="line"><span class="cl">:.....................:.....................:
</span></span><span class="line"><span class="cl">:         name        :       keyName       :
</span></span><span class="line"><span class="cl">:.....................:.....................:
</span></span><span class="line"><span class="cl">: Bare Metal Instance : BARE_METAL_INSTANCE :
</span></span><span class="line"><span class="cl">:  Bare Metal Server  :  BARE_METAL_SERVER  :
</span></span><span class="line"><span class="cl">:.....................:.....................:
</span></span></code></pre></div><p>We will be using the <em>BARE_METAL_SERVER</em> package for this order. Bare metal servers offer preset configurations, so we will find and use one for our order. The preset-list command needs a package keyname (<em>BARE_METAL_SERVER</em>) for listing the presets. There is also a &ndash;keyword option for filtering the returned presets if needed.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ slcli order preset-list BARE_METAL_SERVER
</span></span><span class="line"><span class="cl">:.............................................:...............................................:.................................................................:
</span></span><span class="line"><span class="cl">:                     name                    :                    keyName                    :                           description                           :
</span></span><span class="line"><span class="cl">:.............................................:...............................................:.................................................................:
</span></span><span class="line"><span class="cl">:         S1270 32GB 1X1TBSATA NORAID         :          S1270_32GB_1X1TBSATA_NORAID          :      Single Xeon 1270, 32GB Ram, 1x1TB SATA disks, Non-RAID     :
</span></span><span class="line"><span class="cl">:         S1270 32GB 2X960GBSSD NORAID        :          S1270_32GB_2X960GBSSD_NORAID         :     Single Xeon 1270, 32GB Ram, 2x960GB SSD disks, Non-RAID     :
</span></span><span class="line"><span class="cl">:         D2690 128GB 2X600GBSAS RAID1        :         D2690_128GB_2X600GBSAS_RAID1_2        :       Dual Xeon 2690, 128GB Ram, 2x600GB SAS disks, RAID1       :
</span></span><span class="line"><span class="cl">:        D2690 256GB 4X600GBSAS RAID10        :     D2690_256GB_4X600GBSAS_RAID10_RAID_10     :       Dual Xeon 2690, 256GB Ram, 4x600GB SAS disks, RAID10      :
</span></span><span class="line"><span class="cl">:        D2620v4 64GB 1X1TBSATA NORAID        :         D2620V4_64GB_1X1TBSATA_NORAID         :      Dual Xeon 2620v4, 64GB Ram, 1x1TB SATA disks, Non-RAID     :
</span></span><span class="line"><span class="cl">:     D2620 128GB 2X1T SATA RAID 1xM60 GPU    :     D2620_128GB_2X1TB_SATA_RAID_1_M60_GPU1    : Dual Xeon 2620, 128GB Ram, 2X1TB SATA disks, RAID 1   1xM60 GPU :
</span></span><span class="line"><span class="cl">:    D2690 256GB 2x4TB SATA RAID1 2xM60 GPU   : D2690_256GB_2X4TB_SATA_RAID1_2XM60_GPU_RAID_1 :        Dual Xeon 2690, 256GB Ram, 2X4TB SATA disk, RAID 1       :
</span></span><span class="line"><span class="cl">:       D2690v4 128GB 2X600GB SAS RAID 1      :        D2690V4_128GB_2X600GB_SAS_RAID_1       :      Dual Xeon 2690v4, 128GB Ram, 2x600GB SAS disks, RAID1      :
</span></span><span class="line"><span class="cl">:        D2620v4 64GB 2X1TB SATA RAID 1       :         D2620V4_64GB_2X1TB_SATA_RAID_1        :       Dual Xeon 2620v4, 64GB Ram, 2x1TB SATA disks, RAID1       :
</span></span><span class="line"><span class="cl">: D2620v4 128GB 2X800GB SSD RAID 1 K80 GPU(2) :   D2620V4_128GB_2X800GB_SSD_RAID_1_K80_GPU2   :      Dual Xeon 2620v4, 128GB Ram, 2x800GB SSD disks, RAID1      :
</span></span><span class="line"><span class="cl">:  D2690v4 128GB 2X4TB SATA RAID 1 K2 GPU(2)  :    D2690V4_128GB_2X4TB_SATA_RAID_1_K2_GPU2    :            D2690v4 128GB 2x4TB SATA RAID 1 K2 GPU(2)            :
</span></span><span class="line"><span class="cl">:      D2690v4 256GB 4X600GB SAS RAID 10      :       D2690V4_256GB_4X600GB_SAS_RAID_10       :     Dual Xeon 2690v4, 256GB Ram, 4x600GB SAS disks, RAID 10     :
</span></span><span class="line"><span class="cl">:.............................................:...............................................:.................................................................:
</span></span></code></pre></div><h3 id="step-3-identify-categories-of-items">Step 3: Identify categories of items</h3>
<p>For this example, we will use the <em>S1270_32GB_1X1TBSATA_NORAID</em> preset. Now let’s find the categories of items we need to set for a bare metal order.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">slcli order category-list BARE_METAL_SERVER
</span></span><span class="line"><span class="cl">:........................................:.......................:............:
</span></span><span class="line"><span class="cl">:                  name                  :      categoryCode     : isRequired :
</span></span><span class="line"><span class="cl">:........................................:.......................:............:
</span></span><span class="line"><span class="cl">:                 Server                 :         server        :     Y      :
</span></span><span class="line"><span class="cl">:        New Cloud Customer Setup        :   new_customer_setup  :     N      :
</span></span><span class="line"><span class="cl">:               Surcharges               :        premium        :     N      :
</span></span><span class="line"><span class="cl">:            Operating System            :           os          :     Y      :
</span></span><span class="line"><span class="cl">:                  RAM                   :          ram          :     Y      :
</span></span><span class="line"><span class="cl">:            Disk Controller             :    disk_controller    :     Y      :
</span></span><span class="line"><span class="cl">:            First Hard Drive            :         disk0         :     Y      :
</span></span><span class="line"><span class="cl">:           Second Hard Drive            :         disk1         :     N      :
</span></span><span class="line"><span class="cl">:            Third Hard Drive            :         disk2         :     N      :
</span></span><span class="line"><span class="cl">:           Fourth Hard Drive            :         disk3         :     N      :
</span></span><span class="line"><span class="cl">:            Public Bandwidth            :       bandwidth       :     Y      :
</span></span><span class="line"><span class="cl">:           Uplink Port Speeds           :       port_speed      :     Y      :
</span></span><span class="line"><span class="cl">:           Remote Management            :   remote_management   :     Y      :
</span></span><span class="line"><span class="cl">:          Primary IP Addresses          :    pri_ip_addresses   :     Y      :
</span></span><span class="line"><span class="cl">:     Public Secondary IP Addresses      :    sec_ip_addresses   :     N      :
</span></span><span class="line"><span class="cl">:              Power Supply              :      power_supply     :     N      :
</span></span><span class="line"><span class="cl">:      Public Static IPv6 Addresses      : static_ipv6_addresses :     N      :
</span></span><span class="line"><span class="cl">:         Primary IPv6 Addresses         :   pri_ipv6_addresses  :     N      :
</span></span><span class="line"><span class="cl">:                 EVault                 :         evault        :     N      :
</span></span><span class="line"><span class="cl">:        Graphics Processing Unit        :          gpu0         :     N      :
</span></span><span class="line"><span class="cl">:   Secondary Graphics Processing Unit   :          gpu1         :     N      :
</span></span><span class="line"><span class="cl">:                 Other                  :         other         :     N      :
</span></span><span class="line"><span class="cl">:    VPN Management - Private Network    :     vpn_management    :     Y      :
</span></span><span class="line"><span class="cl">: Vulnerability Assessments &amp; Management : vulnerability_scanner :     N      :
</span></span><span class="line"><span class="cl">:........................................:.......................:............:
</span></span></code></pre></div><p>This is a minimal order, so we are only specifying items that are required for the order. To find the items we’re required to fill, we can use the &ndash;required option on the category-list command.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ slcli order category-list BARE_METAL_SERVER --required
</span></span><span class="line"><span class="cl">:..................................:...................:............:
</span></span><span class="line"><span class="cl">:               name               :    categoryCode   : isRequired :
</span></span><span class="line"><span class="cl">:..................................:...................:............:
</span></span><span class="line"><span class="cl">:              Server              :       server      :     Y      :
</span></span><span class="line"><span class="cl">:         Operating System         :         os        :     Y      :
</span></span><span class="line"><span class="cl">:               RAM                :        ram        :     Y      :
</span></span><span class="line"><span class="cl">:         Disk Controller          :  disk_controller  :     Y      :
</span></span><span class="line"><span class="cl">:         First Hard Drive         :       disk0       :     Y      :
</span></span><span class="line"><span class="cl">:         Public Bandwidth         :     bandwidth     :     Y      :
</span></span><span class="line"><span class="cl">:        Uplink Port Speeds        :     port_speed    :     Y      :
</span></span><span class="line"><span class="cl">:        Remote Management         : remote_management :     Y      :
</span></span><span class="line"><span class="cl">:       Primary IP Addresses       :  pri_ip_addresses :     Y      :
</span></span><span class="line"><span class="cl">: VPN Management - Private Network :   vpn_management  :     Y      :
</span></span><span class="line"><span class="cl">:..................................:...................:............:
</span></span></code></pre></div><p>Most of these categories are already covered for us by the preset (Server, RAM, and Disk Controller, First Hard Drive). If you’re ever unsure of the required categories you may be missing in your order, you can use the place command with the &ndash;verify flag, and if any categories are missing, they will be printed out for you.</p>
<p>We can now select the rest of our items for our order using the item-list command. There are typically a lot of items to choose from in a package, so it is suggested to use the &ndash;category option to only retrieve the items from the category you are interested in.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ slcli order item-list BARE_METAL_SERVER --category os
</span></span><span class="line"><span class="cl">:.....................................................:..................................................................:
</span></span><span class="line"><span class="cl">:                       keyName                       :                           description                            :
</span></span><span class="line"><span class="cl">:.....................................................:..................................................................:
</span></span><span class="line"><span class="cl">:       OS_RHEL_5_32_BIT_PER_PROCESSOR_LICENSING      : Red Hat Enterprise Linux 5.x (32 bit) (per-processor licensing)  :
</span></span><span class="line"><span class="cl">:       OS_RHEL_6_64_BIT_PER_PROCESSOR_LICENSING      : Red Hat Enterprise Linux 6.x (64 bit) (per-processor licensing)  :
</span></span><span class="line"><span class="cl">:                OS_FREEBSD_9_X_64_BIT                :                       FreeBSD 9.x (64 bit)                       :
</span></span><span class="line"><span class="cl">:          OS_WINDOWS_2012_R2_FULL_STD_64_BIT         :         Windows Server 2012 R2 Standard Edition (64 bit)         :
</span></span><span class="line"><span class="cl">:                OS_FREEBSD_10_X_64_BIT               :                      FreeBSD 10.x (64 bit)                       :
</span></span><span class="line"><span class="cl">:                 OS_CENTOS_7_X_64_BIT                :                       CentOS 7.x (64 bit)                        :
</span></span><span class="line"><span class="cl">:          OS_WINDOWS_2008_FULL_STD_64_BIT_R2         :         Windows Server 2008 R2 Standard Edition (64bit)          :
</span></span><span class="line"><span class="cl">:                 OS_CENTOS_6_X_32_BIT                :                       CentOS 6.x (32 bit)                        :
</span></span><span class="line"><span class="cl">:           OS_WINDOWS_2012_FULL_STD_64_BIT           :          Windows Server 2012 Standard Edition (64 bit)           :
</span></span><span class="line"><span class="cl">:     OS_UBUNTU_12_04_LTS_PRECISE_PANGOLIN_64_BIT     :         Ubuntu Linux 12.04 LTS Precise Pangolin (64 bit)         :
</span></span><span class="line"><span class="cl">:                OS_FREEBSD_10_X_32_BIT               :                      FreeBSD 10.x (32 bit)                       :
</span></span><span class="line"><span class="cl">:                  OS_RHEL_7_1_64_BIT                 : Red Hat Enterprise Linux 7.x (64 bit)  (per-processor licensing) :
</span></span><span class="line"><span class="cl">:       OS_UBUNTU_16_04_LTS_XENIAL_XERUS_64_BIT       :           Ubuntu Linux 16.04 LTS Xenial Xerus (64 bit)           :
</span></span><span class="line"><span class="cl">:                 OS_CENTOS_6_X_64_BIT                :                       CentOS 6.x (64 bit)                        :
</span></span><span class="line"><span class="cl">:            OS_CENTOS_7_X_MINIMAL_64_BIT_2           :              CentOS 7.x - Minimal Install (64 bit)               :
</span></span><span class="line"><span class="cl">:     OS_UBUNTU_12_04_LTS_PRECISE_PANGOLIN_32_BIT     :         Ubuntu Linux 12.04 LTS Precise Pangolin (32 bit)         :
</span></span><span class="line"><span class="cl">:                OS_NO_OPERATING_SYSTEM               :                       No Operating System                        :
</span></span><span class="line"><span class="cl">:             OS_CENTOS_6_X_MINIMAL_64_BIT            :              CentOS 6.x - Minimal Install (64 bit)               :
</span></span><span class="line"><span class="cl">:               OS_FREEBSD_9_X_32_BIT_2               :                       FreeBSD 9.x (32 bit)                       :
</span></span><span class="line"><span class="cl">:        OS_UBUNTU_14_04_LTS_TRUSTY_TAHR_32_BIT       :           Ubuntu Linux 14.04 LTS Trusty Tahr (32 bit)            :
</span></span><span class="line"><span class="cl">: OS_WINDOWS_SERVER_2012_STANDARD_EDITION_64_BIT_CORE :         Windows Server 2012 R2 Standard Edition (64 bit)         :
</span></span><span class="line"><span class="cl">:        OS_WINDOWS_2008_FULL_WEB_64_BIT_R2_SP1       :            Windows Server 2008 R2 Web Edition (64bit)            :
</span></span><span class="line"><span class="cl">:       OS_RHEL_5_64_BIT_PER_PROCESSOR_LICENSING      : Red Hat Enterprise Linux 5.x (64 bit) (per-processor licensing)  :
</span></span><span class="line"><span class="cl">:       OS_RHEL_6_32_BIT_PER_PROCESSOR_LICENSING      : Red Hat Enterprise Linux 6.x (32 bit) (per-processor licensing)  :
</span></span><span class="line"><span class="cl">:        OS_UBUNTU_14_04_LTS_TRUSTY_TAHR_64_BIT       :           Ubuntu Linux 14.04 LTS Trusty Tahr (64 bit)            :
</span></span><span class="line"><span class="cl">:           OS_WINDOWS_2016_FULL_STD_64_BIT           :          Windows Server 2016 Standard Edition (64 bit)           :
</span></span><span class="line"><span class="cl">:                OS_FREEBSD_11_X_64_BIT               :                      FreeBSD 11.x (64 bit)                       :
</span></span><span class="line"><span class="cl">:.....................................................:..................................................................:
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$slcli order item-list BARE_METAL_SERVER --category bandwidth
</span></span><span class="line"><span class="cl">:.....................................:.......................................:
</span></span><span class="line"><span class="cl">:               keyName               :              description              :
</span></span><span class="line"><span class="cl">:.....................................:.......................................:
</span></span><span class="line"><span class="cl">:            BANDWIDTH_0_GB           :             0 GB Bandwidth            :
</span></span><span class="line"><span class="cl">:           BANDWIDTH_500_GB          :            500 GB Bandwidth           :
</span></span><span class="line"><span class="cl">: BANDWIDTH_UNLIMITED_100_MBPS_UPLINK : Unlimited Bandwidth (100 Mbps Uplink) :
</span></span><span class="line"><span class="cl">:          BANDWIDTH_1000_GB          :           1000 GB Bandwidth           :
</span></span><span class="line"><span class="cl">:          BANDWIDTH_5000_GB          :           5000 GB Bandwidth           :
</span></span><span class="line"><span class="cl">:          BANDWIDTH_10000_GB         :           10000 GB Bandwidth          :
</span></span><span class="line"><span class="cl">:           BANDWIDTH_0_GB_2          :             0 GB Bandwidth            :
</span></span><span class="line"><span class="cl">:          BANDWIDTH_20000_GB         :           20000 GB Bandwidth          :
</span></span><span class="line"><span class="cl">:.....................................:.......................................:
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ slcli order item-list BARE_METAL_SERVER --category port_speed
</span></span><span class="line"><span class="cl">:......................................................:..........................................................:
</span></span><span class="line"><span class="cl">:                       keyName                        :                       description                        :
</span></span><span class="line"><span class="cl">:......................................................:..........................................................:
</span></span><span class="line"><span class="cl">:            1_GBPS_PRIVATE_NETWORK_UPLINK             :              1 Gbps Private Network Uplink               :
</span></span><span class="line"><span class="cl">:           100_MBPS_PRIVATE_NETWORK_UPLINK            :             100 Mbps Private Network Uplink              :
</span></span><span class="line"><span class="cl">:   10_GBPS_REDUNDANT_PUBLIC_PRIVATE_NETWORK_UPLINKS   :    10 Gbps Redundant Public &amp; Private Network Uplinks    :
</span></span><span class="line"><span class="cl">:    10_GBPS_DUAL_PRIVATE_NETWORK_UPLINKS_UNBONDED     :     10 Gbps Dual Private Network Uplinks (Unbonded)      :
</span></span><span class="line"><span class="cl">:        10_MBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS        :         10 Mbps Public &amp; Private Network Uplinks         :
</span></span><span class="line"><span class="cl">:        1_GBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS         :         1 Gbps Public &amp; Private Network Uplinks          :
</span></span><span class="line"><span class="cl">:            10_MBPS_PRIVATE_NETWORK_UPLINK            :              10 Mbps Private Network Uplink              :
</span></span><span class="line"><span class="cl">:      10_GBPS_REDUNDANT_PRIVATE_NETWORK_UPLINKS       :        10 Gbps Redundant Private Network Uplinks         :
</span></span><span class="line"><span class="cl">:       100_MBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS        :        100 Mbps Public &amp; Private Network Uplinks         :
</span></span><span class="line"><span class="cl">:    1_GBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS_UNBONDED    :    1 Gbps Public &amp; Private Network Uplinks (Unbonded)    :
</span></span><span class="line"><span class="cl">: 10_GBPS_DUAL_PUBLIC_PRIVATE_NETWORK_UPLINKS_UNBONDED : 10 Gbps Dual Public &amp; Private Network Uplinks (Unbonded) :
</span></span><span class="line"><span class="cl">:......................................................:..........................................................:
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ slcli order item-list BARE_METAL_SERVER --category remote_management
</span></span><span class="line"><span class="cl">:....................:......................:
</span></span><span class="line"><span class="cl">:      keyName       :     description      :
</span></span><span class="line"><span class="cl">:....................:......................:
</span></span><span class="line"><span class="cl">: REBOOT_KVM_OVER_IP : Reboot / KVM over IP :
</span></span><span class="line"><span class="cl">:....................:......................:
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ slcli order item-list BARE_METAL_SERVER --category pri_ip_addresses
</span></span><span class="line"><span class="cl">:..............:..............:
</span></span><span class="line"><span class="cl">:   keyName    : description  :
</span></span><span class="line"><span class="cl">:..............:..............:
</span></span><span class="line"><span class="cl">: 1_IP_ADDRESS : 1 IP Address :
</span></span><span class="line"><span class="cl">:..............:..............:
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ slcli order item-list BARE_METAL_SERVER --category vpn_management
</span></span><span class="line"><span class="cl">:.....................................................:.......................................................:
</span></span><span class="line"><span class="cl">:                       keyName                       :                      description                      :
</span></span><span class="line"><span class="cl">:.....................................................:.......................................................:
</span></span><span class="line"><span class="cl">: UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT : Unlimited SSL VPN Users &amp; 1 PPTP VPN User per account :
</span></span><span class="line"><span class="cl">:.....................................................:.......................................................:
</span></span></code></pre></div><p>Some of these categories only have 1 item, so there isn’t much choice for those items. For this order, we will use the following items:</p>
<ul>
<li>OS_CENTOS_7_X_64_BIT</li>
<li>BANDWIDTH_0_GB_2</li>
<li>1_GBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS</li>
<li>REBOOT_KVM_OVER_IP, 1_IP_ADDRESS</li>
<li>UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT</li>
</ul>
<h3 id="step-4-verify-the-order">Step 4: Verify the order</h3>
<p>Now that we know the details of the bare metal server we will be ordering, we can try verifying the order we want to make. The place command takes in all the information for the order, and will attempt to verify the order (if &ndash;verify is specified) or place the order. We need the following information to verify our order:</p>
<ol>
<li>Package (BARE_METAL_SERVER)</li>
<li>Location (DALLAS13)</li>
<li>Billing term (hourly)</li>
<li>Preset (S1270_32GB_1X1TBSATA_NORAID)</li>
<li>Type (SoftLayer_Container_Product_Order_Hardware_Server)</li>
</ol>
<p><em>Note</em>: The type information is used by the order API to determine the data that is needed in the order. For bare metal servers, this type is SoftLayer_Container_Product_Order_Hardware_Server. These types can be found on <a href="https://softlayer.github.com/reference/datatypes/SoftLayer_Container_Product_Order_Hardware_Server">SLDN</a> and will typically begin with SoftLayer_Container_Product_Order.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ slcli order place --verify --billing hourly BARE_METAL_SERVER DALLAS13 --preset S1270_32GB_1X1TBSATA_NORAID BANDWIDTH_0_GB_2 1_GBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS REBOOT_KVM_OVER_IP 1_IP_ADDRESS UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT OS_CENTOS_7_X_64_BIT --complex-type SoftLayer_Container_Product_Order_Hardware_Server
</span></span><span class="line"><span class="cl">:.....................................................:.......................................................:......:
</span></span><span class="line"><span class="cl">:                       keyName                       :                      description                      : cost :
</span></span><span class="line"><span class="cl">:.....................................................:.......................................................:......:
</span></span><span class="line"><span class="cl">:                   BANDWIDTH_0_GB_2                  :                     0 GB Bandwidth                    :  0   :
</span></span><span class="line"><span class="cl">:        1_GBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS        :        1 Gbps Public &amp; Private Network Uplinks        : .04  :
</span></span><span class="line"><span class="cl">:                  REBOOT_KVM_OVER_IP                 :                  Reboot / KVM over IP                 :  0   :
</span></span><span class="line"><span class="cl">:                     1_IP_ADDRESS                    :                      1 IP Address                     :  0   :
</span></span><span class="line"><span class="cl">: UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT : Unlimited SSL VPN Users &amp; 1 PPTP VPN User per account :  0   :
</span></span><span class="line"><span class="cl">:                 OS_CENTOS_7_X_64_BIT                :                  CentOS 7.x (64 bit)                  :  0   :
</span></span><span class="line"><span class="cl">:               DISK_CONTROLLER_NONRAID               :                        Non-RAID                       :  0   :
</span></span><span class="line"><span class="cl">:              HARD_DRIVE_1_00_TB_SATA_2              :                      1.00 TB SATA                     : .036 :
</span></span><span class="line"><span class="cl">:             INTEL_SINGLE_XEON_1270_3_50             :    Single Intel Xeon E3-1270 v3 (4 Cores, 3.50 GHz)   : .173 :
</span></span><span class="line"><span class="cl">:              RAM_32_GB_DDR3_1333_REG_2              :                       32 GB RAM                       : .356 :
</span></span><span class="line"><span class="cl">:.....................................................:.......................................................:......:
</span></span></code></pre></div><p>The output will show you each item being ordered, along with the cost associated with that item. If the order passes verification, that means there are no conflicting items, and all required categories have an item specified in the order.</p>
<h3 id="step-5-place-the-order">Step 5: Place the order</h3>
<p>The next step is to place the order.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ slcli order place --billing hourly BARE_METAL_SERVER DALLAS13 --preset S1270_32GB_1X1TBSATA_NORAID BANDWIDTH_0_GB_2 1_GBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS REBOOT_KVM_OVER_IP 1_IP_ADDRESS UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT OS_CENTOS_7_X_64_BIT --complex-type SoftLayer_Container_Product_Order_Hardware_Server
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">This action will incur charges on your account. Continue? [y/N]: y
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">SoftLayerAPIError(SoftLayer_Exception_Order_InvalidData): Invalid data on the order for property: hardware. Hostname and domain are not set properly.
</span></span></code></pre></div><p>In the order placement, extra data is required based on the complex type. In this case, Bare Metal servers need extra hardware data to specify the hostname and domain of the server. This is specified using the &ndash;extras option. Extras are specified as a JSON-encoded string. According to the error message, we need to specify a hardware property in our extras with the hostname and domain of the server. The structure of the JSON will be:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;hardware&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>    <span class="nt">&#34;hostname&#34;</span><span class="p">:</span> <span class="s2">&#34;&lt;yourhostname&gt;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;domain&#34;</span><span class="p">:</span> <span class="s2">&#34;&lt;yourdomain&gt;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Now we can place the order with the extra data needed.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ slcli order place --billing hourly BARE_METAL_SERVER DALLAS13 \
</span></span><span class="line"><span class="cl">    --preset S1270_32GB_1X1TBSATA_NORAID BANDWIDTH_0_GB_2 \
</span></span><span class="line"><span class="cl">    1_GBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS \
</span></span><span class="line"><span class="cl">    REBOOT_KVM_OVER_IP \
</span></span><span class="line"><span class="cl">    1_IP_ADDRESS  \
</span></span><span class="line"><span class="cl">    UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT \
</span></span><span class="line"><span class="cl">    OS_CENTOS_7_X_64_BIT  \
</span></span><span class="line"><span class="cl">    --complex-type SoftLayer_Container_Product_Order_Hardware_Server  \
</span></span><span class="line"><span class="cl">    --extras &#39;{&#34;hardware&#34;: [{&#34;hostname&#34;: &#34;test-demo&#34;, &#34;domain&#34;: &#34;softlayer.com&#34;}]}&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">This action will incur charges on your account. Continue? [y/N]: y
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">:.........:...........................:
</span></span><span class="line"><span class="cl">:    name : value                     :
</span></span><span class="line"><span class="cl">:.........:...........................:
</span></span><span class="line"><span class="cl">:      id : 21924753                  :
</span></span><span class="line"><span class="cl">: created : 2018-01-03T10:08:03-06:00 :
</span></span><span class="line"><span class="cl">:  status : PENDING_APPROVAL          :
</span></span><span class="line"><span class="cl">:.........:...........................:
</span></span></code></pre></div><p>We now have ordered a bare metal server!</p>
<h2 id="place-an-order-programmatically-with-python">Place an order programmatically with Python</h2>
<p>Now that we have used the CLI to build an order with the package and items that we want, we can convert this order to Python code and programmatically place the order.</p>
<h3 id="safety-of-item-keynames">Safety of item keynames</h3>
<p>Using item keynames is a more hardened way of placing orders. Item IDs may change, and orders placed with hard-coded IDs may not continually work. Keynames will allow orders to consistently work, because price IDs for the order are dynamically retrieved for you.</p>
<p><em>Note</em>: If an item is removed from the ordering catalog due to deprecation, orders will still need to be updated to use the keyname of a more current item.</p>
<h3 id="converting-from-cli-calls-to-python-code">Converting from CLI calls to Python code</h3>
<p>If we take our previous example for creating a bare metal server on the CLI, we can very easily convert this over to Python code. As of version 3.4.0 of softlayer-python, functions have been added to the ordering manager for verifying and placing orders.</p>
<p>Here is the place order command from before:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ slcli order place --billing hourly BARE_METAL_SERVER DALLAS13 --preset S1270_32GB_1X1TBSATA_NORAID BANDWIDTH_0_GB_2 1_GBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS REBOOT_KVM_OVER_IP 1_IP_ADDRESS UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT OS_CENTOS_7_X_64_BIT --complex-type SoftLayer_Container_Product_Order_Hardware_Server --extras &#39;{&#34;hardware&#34;: [{&#34;hostname&#34;: &#34;test-demo&#34;, &#34;domain&#34;: &#34;softlayer.com&#34;}]}&#39;
</span></span></code></pre></div><p>The function for place_order on the ordering manager has arguments that are like the data given to the place order command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">place_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">package_keyname</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">item_keynames</span><span class="p">,</span> <span class="n">complex_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hourly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">preset_keyname</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extras</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">quantity</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span></span></code></pre></div><p>The Python code for placing the order is similar to the place order command:
import SoftLayer</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">package</span> <span class="o">=</span> <span class="s1">&#39;BARE_METAL_SERVER&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">location</span> <span class="o">=</span> <span class="s1">&#39;DALLAS13&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">extras</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;hardware&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;hostname&#39;</span><span class="p">:</span> <span class="s1">&#39;test-demo&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s1">&#39;domain&#39;</span><span class="p">:</span> <span class="s1">&#39;softlayer.com&#39;</span><span class="p">}]}</span>
</span></span><span class="line"><span class="cl"><span class="n">preset</span> <span class="o">=</span> <span class="s1">&#39;S1270_32GB_1X1TBSATA_NORAID&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;BANDWIDTH_0_GB_2&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;1_GBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;REBOOT_KVM_OVER_IP&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;1_IP_ADDRESS&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">         <span class="s1">&#39;OS_CENTOS_7_X_64_BIT&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">complex_type</span> <span class="o">=</span> <span class="s1">&#39;SoftLayer_Container_Product_Order_Hardware_Server&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span> <span class="o">=</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">create_client_from_env</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">order_mgr</span> <span class="o">=</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">OrderingManager</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">order_mgr</span><span class="o">.</span><span class="n">verify_order</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                       <span class="n">hourly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">preset_keyname</span><span class="o">=</span><span class="n">preset</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                       <span class="n">complex_type</span><span class="o">=</span><span class="n">complex_type</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                       <span class="n">extras</span><span class="o">=</span><span class="n">extras</span><span class="p">)</span>
</span></span></code></pre></div><p>If you want to programmatically verify your order rather than placing it, substitute verify_order() for place_order(). Both functions use the arguments the same way.</p>
<h3 id="converting-existing-python-code-to-use-keynames">Converting existing Python code to use keynames</h3>
<p>If you already place orders via Python code using hard-coded IDs, you can use this code snippet to do a one-time retrieval of the keynames from the IDs.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">SoftLayer</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span> <span class="o">=</span> <span class="n">SoftLayer</span><span class="o">.</span><span class="n">create_client_from_env</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">package_id</span> <span class="o">=</span> <span class="mi">200</span>
</span></span><span class="line"><span class="cl"><span class="n">keyname_mask</span> <span class="o">=</span> <span class="s1">&#39;mask[keyName]&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">package</span> <span class="o">=</span> <span class="n">client</span><span class="p">[</span><span class="s1">&#39;Product_Package&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getObject</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">package_id</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">keyname_mask</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Package:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">package</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">prices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1800</span><span class="p">,</span> <span class="mi">274</span><span class="p">,</span> <span class="mi">906</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">420</span><span class="p">,</span> <span class="mi">44988</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">keyname_mask</span> <span class="o">=</span> <span class="s1">&#39;mask[keyName, prices[id]]&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">keynames</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Items:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">pkg_items</span> <span class="o">=</span> <span class="n">client</span><span class="p">[</span><span class="s1">&#39;Product_Package&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">getItems</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">package_id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                                               <span class="n">mask</span><span class="o">=</span><span class="n">keyname_mask</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">price</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">pkg_item</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">pkg_items</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">price</span> <span class="ow">in</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">i</span><span class="p">[</span><span class="s1">&#39;prices&#39;</span><span class="p">]]][</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="n">pkg_item</span><span class="p">[</span><span class="s1">&#39;keyName&#39;</span><span class="p">])</span>
</span></span></code></pre></div><h3 id="how-to-figure-out-capacity-restrictions">How to figure out capacity restrictions.</h3>
<p>Some items have a capacity restriction, and you must select the item that matches the capacity of the server. These restrictions will generally be on the <code>CORE</code> count of your server, although some can be on the <code>PROCESSOR</code> count (number of physical CPUs). Ordering storage will also have its own type, <code>STORAGE</code> to watch out for.</p>
<h4 id="example">Example:</h4>
<p>In package <code>SINGLE_E31270_V3_4_DRIVES</code> (id=253) there are the following <a href="https://sldn.softlayer.com/reference/datatypes/SoftLayer_Product_Item/">items</a>.</p>
<ul>
<li>The Processor</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;capacityRestrictedProductFlag&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Dual Intel Xeon E5-2690 v3 (24 Cores, 2.60 GHz)&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">6090</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;keyName&#34;</span><span class="p">:</span> <span class="s2">&#34;INTEL_XEON_2690_2_60&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;totalPhysicalCoreCapacity&#34;</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;totalProcessorCapacity&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;prices&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">47067</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;locationGroupId&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;itemCategory&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;categoryCode&#34;</span><span class="p">:</span> <span class="s2">&#34;server&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="err">,</span>
</span></span></code></pre></div><p>Since <code>capacityRestrictedProductFlag</code> is <code>false</code>  we can select the price from this item for our order.</p>
<ul>
<li>Windows Server</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;capacityRestrictedProductFlag&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Windows Server 2019 Standard Edition (64 bit) &#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">13385</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;keyName&#34;</span><span class="p">:</span> <span class="s2">&#34;OS_WINDOWS_2019_FULL_STD_64_BIT&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;prices&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;capacityRestrictionMaximum&#34;</span><span class="p">:</span> <span class="s2">&#34;16&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;capacityRestrictionMinimum&#34;</span><span class="p">:</span> <span class="s2">&#34;6&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;capacityRestrictionType&#34;</span><span class="p">:</span> <span class="s2">&#34;CORE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">229001</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;locationGroupId&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;capacityRestrictionMaximum&#34;</span><span class="p">:</span> <span class="s2">&#34;20&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;capacityRestrictionMinimum&#34;</span><span class="p">:</span> <span class="s2">&#34;20&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;capacityRestrictionType&#34;</span><span class="p">:</span> <span class="s2">&#34;CORE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">229003</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;locationGroupId&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;capacityRestrictionMaximum&#34;</span><span class="p">:</span> <span class="s2">&#34;24&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;capacityRestrictionMinimum&#34;</span><span class="p">:</span> <span class="s2">&#34;24&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;capacityRestrictionType&#34;</span><span class="p">:</span> <span class="s2">&#34;CORE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">229005</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;locationGroupId&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span></code></pre></div><p>Since this item has <code>capacityRestrictedProductFlag</code>, we need to check each price to see if its Minimum and Maximum are valid for the server we are ordering. The <code>capacityRestrictionType</code> is <code>CORE</code> here, so we check against the <code>totalPhysicalCoreCapacity</code> of our SERVER item. In this case we would pick price id <code>229005</code>.</p>
<ul>
<li>VMware</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;capacityRestrictedProductFlag&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;VMware Server Virtualization 6.5&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">10313</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;itemCategory&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;categoryCode&#34;</span><span class="p">:</span> <span class="s2">&#34;os&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Operating System&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;quantityLimit&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;sortOrder&#34;</span><span class="p">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;keyName&#34;</span><span class="p">:</span> <span class="s2">&#34;OS_VMWARE_SERVER_VIRTUALIZATION_6_5&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;prices&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;capacityRestrictionMaximum&#34;</span><span class="p">:</span> <span class="s2">&#34;2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;capacityRestrictionMinimum&#34;</span><span class="p">:</span> <span class="s2">&#34;2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;capacityRestrictionType&#34;</span><span class="p">:</span> <span class="s2">&#34;PROCESSOR&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">201161</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;locationGroupId&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;totalPhysicalCoreCapacity&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;totalProcessorCapacity&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="err">,</span>
</span></span></code></pre></div><p>Here is an example of a <code>PROCESSOR</code> restriction. Here we would match our server item&rsquo;s <code>totalProcessorCapacity</code> field.</p>
<h4 id="other-example">Other example</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">[{</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">52227</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&#34;item&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&#34;capacity&#34;</span><span class="p">:</span> <span class="s2">&#34;3.5&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Single Intel Xeon E3-1270 v3 (4 Cores, 3.50 GHz)&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&#34;totalPhysicalCoreCapacity&#34;</span><span class="p">:</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">244570</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nt">&#34;item&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&#34;capacity&#34;</span><span class="p">:</span> <span class="s2">&#34;3.8&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Single Intel Xeon E-2174G (4 Cores, 3.80 GHz)&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nt">&#34;totalPhysicalCoreCapacity&#34;</span><span class="p">:</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">},</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">17275</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;capacityRestrictionMaximum&#34;</span><span class="p">:</span> <span class="s2">&#34;6&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;capacityRestrictionMinimum&#34;</span><span class="p">:</span> <span class="s2">&#34;6&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;capacityRestrictionType&#34;</span><span class="p">:</span> <span class="s2">&#34;CORE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;item&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Microsoft SQL Server 2012 Web Edition&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;capacityRestrictedProductFlag&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>    
</span></span><span class="line"><span class="cl"><span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">17291</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;capacityRestrictionMaximum&#34;</span><span class="p">:</span> <span class="s2">&#34;4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;capacityRestrictionMinimum&#34;</span><span class="p">:</span> <span class="s2">&#34;4&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;capacityRestrictionType&#34;</span><span class="p">:</span> <span class="s2">&#34;CORE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;item&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;keyName&#34;</span><span class="p">:</span> <span class="s2">&#34;DATABASE_MICROSOFT_SQL_SERVER_2012_STANDARD&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;capacityRestrictedProductFlag&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">         <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><p>If you select a priceId that has a capacity restriction, but do not select the right price, you will get an error similar to this:</p>
<blockquote>
<p>SoftLayer_Exception_Public: Windows Server 2016 Standard Edition (64 bit) (28 Cores), price ID# 179935, has a Cores capacity restriction that does not match the capacity of Dual Intel Xeon E5-2620 v4 (16 Cores, 2.10 GHz), price ID# 177639</p>
</blockquote>
<h2 id="various-ordering-examples">Various Ordering Examples</h2>
<p>Order from package SINGLE_E31270_2_DRIVES, no raid, with a specific backend network vlan.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">slcli -vvv order place SINGLE_E31270_V3_4_DRIVES DALLAS13 \
</span></span><span class="line"><span class="cl">INTEL_SINGLE_XEON_1270_3_50 \
</span></span><span class="line"><span class="cl">RAM_32_GB_DDR3_1333_REG_2 \
</span></span><span class="line"><span class="cl">OS_RHEL_7_1_64_BIT  \
</span></span><span class="line"><span class="cl">DISK_CONTROLLER_NONRAID \
</span></span><span class="line"><span class="cl">HARD_DRIVE_1_00_TB_SATA_2 \
</span></span><span class="line"><span class="cl">BANDWIDTH_500_GB \
</span></span><span class="line"><span class="cl">1_GBPS_PUBLIC_PRIVATE_NETWORK_UPLINKS \
</span></span><span class="line"><span class="cl">1_IP_ADDRESS \
</span></span><span class="line"><span class="cl">REBOOT_KVM_OVER_IP \
</span></span><span class="line"><span class="cl">NOTIFICATION_EMAIL_AND_TICKET \
</span></span><span class="line"><span class="cl">MONITORING_HOST_PING_AND_TCP_SERVICE UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT \
</span></span><span class="line"><span class="cl">AUTOMATED_NOTIFICATION \
</span></span><span class="line"><span class="cl">--complex-type SoftLayer_Container_Product_Order_Hardware_Server \
</span></span><span class="line"><span class="cl">--extras &#39;{&#34;hardware&#34;:[{&#34;domain&#34;:&#34;test-cgallo.com&#34;,&#34;hostname&#34;:&#34;testOrderCANCEL&#34;},{&#34;primaryBackendNetworkComponent&#34;:{&#34;networkVlan&#34;:{&#34;id&#34;:2257307}}}]}&#39; \
</span></span><span class="line"><span class="cl"> --billing monthly --verify
</span></span></code></pre></div><p>Turns into:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">curl -u $SL_USER:$SL_APIKEY -X POST -H &#34;Accept: */*&#34; -H &#34;Accept-Encoding: gzip, deflate, compress&#34; -d &#39;{&#34;parameters&#34;: [{&#34;orderContainers&#34;: [{&#34;hardware&#34;: [{&#34;domain&#34;: &#34;test-cgallo.com&#34;, &#34;hostname&#34;: &#34;testOrderCANCEL&#34;}, {&#34;primaryBackendNetworkComponent&#34;: {&#34;networkVlan&#34;: {&#34;id&#34;: 2257307}}}], &#34;packageId&#34;: 257, &#34;quantity&#34;: 1, &#34;location&#34;: 1854895, &#34;useHourlyPricing&#34;: false, &#34;complexType&#34;: &#34;SoftLayer_Container_Product_Order_Hardware_Server&#34;, &#34;prices&#34;: [{&#34;id&#34;: 49515}, {&#34;id&#34;: 49415}, {&#34;id&#34;: 48999}, {&#34;id&#34;: 876}, {&#34;id&#34;: 49759}, {&#34;id&#34;: 50357}, {&#34;id&#34;: 274}, {&#34;id&#34;: 21}, {&#34;id&#34;: 906}, {&#34;id&#34;: 418}, {&#34;id&#34;: 57}, {&#34;id&#34;: 56}, {&#34;id&#34;: 420}, {&#34;id&#34;: 58}]}]}]}&#39; &#39;https://api.softlayer.com/rest/v3.1/SoftLayer_Product_Order/verifyOrder.json&#39;
</span></span></code></pre></div><h2 id="step-by-step-example-with-ibmcloud-cli">Step by Step Example with ibmcloud CLI</h2>
<p>These commands will use the <code>ibmcloud sl</code> command, but it works the same way as <code>slcli</code>. The only big difference is <code>ibmcloud</code> requires Items be a comma seperated list, where <code>slcli</code> requires them be space seperated.</p>
<p>Here we want to order a Cascade Lake Dual Xeon server.</p>
<h4 id="get-the-package">Get the package.</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ ibmcloud sl order package-list | grep -i Cascade
</span></span><span class="line"><span class="cl">1105   Dual Intel Xeon Processor Cascade Lake Scalable Family (4 Drives)         DUAL_INTEL_XEON_PROCESSOR_CASCADE_LAKE_SCALABLE_FAMILY_4_DRIVES   BARE_METAL_CPU
</span></span><span class="line"><span class="cl">1107   Dual Intel Xeon Processor Cascade Lake Scalable Family (12 Drives)        DUAL_INTEL_XEON_PROC_CASCADE_LAKE_SCALABLE_FAMILY_12_DRIVES       BARE_METAL_CPU
</span></span></code></pre></div><h4 id="get-the-items">Get the Items</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ibmcloud sl order item-list DUAL_INTEL_XEON_PROCESSOR_CASCADE_LAKE_SCALABLE_FAMILY_4_DRIVES
</span></span></code></pre></div><p>From that list you&rsquo;ll need to select the Processor (<code>INTEL_XEON_4210_2_20</code>), RAM (<code>RAM_32_GB_DDR4_2133_ECC_NON_REG</code>), OS (<code>OS_DEBIAN_10_X_BUSTER_MINIMAL_64_BIT</code>), Port Speed (<code>1_GBPS_REDUNDANT_PUBLIC_PRIVATE_NETWORK_UPLINKS</code>, assuming you wanted redundany, but unbonded is an option of too), RAID (<code>DISK_CONTROLLER_RAID</code>), DISKS ( 2 of <code>HARD_DRIVE_2_00_TB_SATA_2</code> or <code>HARD_DRIVE_1_9_TB_SSD</code> if you wanted the SSD drives) and a few other required items (<code>BANDWIDTH_1000_GB</code>, <code>REBOOT_KVM_OVER_IP</code>, <code>1_IP_ADDRESS</code>, <code>UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT</code>, <code>NOTIFICATION_EMAIL_AND_TICKET </code>, <code>AUTOMATED_NOTIFICATION</code>, <code>MONITORING_HOST_PING</code>)</p>
<h4 id="optional-ssh-keys">(Optional) SSH Keys</h4>
<p>The <code>ibmcloud sl</code> command doesn&rsquo;t have a built in way of showing ssh-keys (The <code>SLCLI</code>, which is what the <code>ibmcloud sl</code> command is based from, does if that is useful: <a href="https://softlayer-python.readthedocs.io/en/latest/cli/sshkey/)">https://softlayer-python.readthedocs.io/en/latest/cli/sshkey/)</a>. However you can still get the ssh key id from the following:</p>
<p><code>ibmcloud sl call-api SoftLayer_Account getSshKeys</code>
you&rsquo;ll need the <code>id</code> field that corresponds to the SSH key you want installed on the server.</p>
<h4 id="optional-subnets-and-vlans">(Optional) Subnets and Vlans</h4>
<p>You&rsquo;ll need the subnet and vlan ID for provisioning.
<code>ibmcloud sl subnet list</code>
<code>ibmcloud sl vlan list</code></p>
<h4 id="raid-configuration">Raid Configuration</h4>
<p>To get all the Raid Type options, use the following command:
<code>ibmcloud sl call-api SoftLayer_Configuration_Storage_Group_Array_Type getAllObjects</code>
RAID1 is id=2</p>
<p>To get all the partition templates available, run the following
<code>ibmcloud sl call-api SoftLayer_Hardware_Component_Partition_OperatingSystem getObject --init 1 --mask=&quot;mask[partitionTemplates[data]]&quot;</code>
Linux basic is id=1 (1G /swap, .25G /boot, / set to &lsquo;grow&rsquo;)</p>
<h4 id="extras">&ldquo;Extras&rdquo;</h4>
<p>Extras is a JSON string that corresponds to <a href="https://sldn.softlayer.com/reference/datatypes/SoftLayer_Container_Product_Order_Hardware_Server/">https://sldn.softlayer.com/reference/datatypes/SoftLayer_Container_Product_Order_Hardware_Server/</a>
It is here you will put your SSH keys, post provision scripts, domain/hostname and other bits of information.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">    &#34;hardware&#34;:[{
</span></span><span class="line"><span class="cl">        &#34;hostname&#34;:&#34;ordering-test&#34;,
</span></span><span class="line"><span class="cl">        &#34;domain&#34;:&#34;ibm.com&#34;,
</span></span><span class="line"><span class="cl">        &#34;primaryBackendNetworkComponent&#34;: {&#34;networkVlan&#34;: {&#34;primarySubnet&#34;:{&#34;id&#34;: 1942931}}},
</span></span><span class="line"><span class="cl">        &#34;primaryNetworkComponent&#34;: {&#34;networkVlan&#34;: {&#34;id&#34;: 2843340}},
</span></span><span class="line"><span class="cl">    }],
</span></span><span class="line"><span class="cl">    &#34;storageGroups&#34;:[{
</span></span><span class="line"><span class="cl">        &#34;arrayTypeId&#34;: 2,
</span></span><span class="line"><span class="cl">        &#34;arraySize&#34;: 2000,
</span></span><span class="line"><span class="cl">        &#34;hardDrives&#34;: [0,1],
</span></span><span class="line"><span class="cl">        &#34;partitionTemplateId&#34;: 1
</span></span><span class="line"><span class="cl">    }],
</span></span><span class="line"><span class="cl">    &#34;sshKeys&#34;: [{&#34;sshKeyIds&#34;:[87634,92868]}],
</span></span><span class="line"><span class="cl">    &#34;provisionScripts&#34;: [&#34;https://pastebin.com/raw/SCp607Tm&#34;]
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><h4 id="everything-together">Everything Together</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">ibmcloud sl order place DUAL_INTEL_XEON_PROCESSOR_CASCADE_LAKE_SCALABLE_FAMILY_4_DRIVES  DALLAS13  INTEL_XEON_4210_2_20,RAM_32_GB_DDR4_2133_ECC_NON_REG,OS_DEBIAN_10_X_BUSTER_MINIMAL_64_BIT,1_GBPS_REDUNDANT_PUBLIC_PRIVATE_NETWORK_UPLINKS,DISK_CONTROLLER_RAID,HARD_DRIVE_2_00_TB_SATA_2,HARD_DRIVE_2_00_TB_SATA_2,BANDWIDTH_1000_GB,REBOOT_KVM_OVER_IP,1_IP_ADDRESS,UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT,NOTIFICATION_EMAIL_AND_TICKET,MONITORING_HOST_PING,AUTOMATED_NOTIFICATION --complex-type SoftLayer_Container_Product_Order_Hardware_Server --extras &#39;{&#34;hardware&#34;:[{&#34;hostname&#34;:&#34;cgallo-test&#34;,&#34;domain&#34;:&#34;cgallo.com&#34;,&#34;primaryBackendNetworkComponent&#34;: {&#34;networkVlan&#34;: {&#34;primarySubnet&#34;:{&#34;id&#34;: 1942931}}},&#34;primaryNetworkComponent&#34;: {&#34;networkVlan&#34;: {&#34;id&#34;: 2848660}}}],&#34;storageGroups&#34;:[{&#34;arrayTypeId&#34;: 2,&#34;arraySize&#34;: 2000,&#34;hardDrives&#34;: [0,1],&#34;partitionTemplateId&#34;: 1}],&#34;sshKeys&#34;: [{&#34;sshKeyIds&#34;:[87634,92868]}],&#34;provisionScripts&#34;: [&#34;https://pastebin.com/raw/SCp607Tm&#34;]}&#39; --billing monthly --verify
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">slcli order place DUAL_INTEL_XEON_PROCESSOR_CASCADE_LAKE_SCALABLE_FAMILY_4_DRIVES  DALLAS13  INTEL_XEON_4210_2_20 RAM_32_GB_DDR4_2133_ECC_NON_REG OS_DEBIAN_10_X_BUSTER_MINIMAL_64_BIT 1_GBPS_REDUNDANT_PUBLIC_PRIVATE_NETWORK_UPLINKS DISK_CONTROLLER_RAID HARD_DRIVE_2_00_TB_SATA_2 HARD_DRIVE_2_00_TB_SATA_2 BANDWIDTH_1000_GB REBOOT_KVM_OVER_IP 1_IP_ADDRESS UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT NOTIFICATION_EMAIL_AND_TICKET MONITORING_HOST_PING AUTOMATED_NOTIFICATION --complex-type SoftLayer_Container_Product_Order_Hardware_Server --extras &#39;{&#34;hardware&#34;:[{&#34;hostname&#34;:&#34;cgallo-test&#34;,&#34;domain&#34;:&#34;cgallo.com&#34;,&#34;primaryBackendNetworkComponent&#34;: {&#34;networkVlan&#34;: {&#34;primarySubnet&#34;:{&#34;id&#34;: 1942931}}},&#34;primaryNetworkComponent&#34;: {&#34;networkVlan&#34;: {&#34;id&#34;: 2848660}}}],&#34;storageGroups&#34;:[{&#34;arrayTypeId&#34;: 2,&#34;arraySize&#34;: 2000,&#34;hardDrives&#34;: [0,1],&#34;partitionTemplateId&#34;: 1}],&#34;sshKeys&#34;: [{&#34;sshKeyIds&#34;:[87634,92868]}],&#34;provisionScripts&#34;: [&#34;https://pastebin.com/raw/SCp607Tm&#34;]}&#39; --billing monthly --verify
</span></span></code></pre></div>
            </div>
        </div>

    </div>
    <hr>
    <div class="row">
        <div class="col-md-6">
    <div class="well well-sm" style="word-wrap: break-word;"> 
        <strong>Feedback? <span class="fas fa-comment"/></strong>
            <p>
                If this article contains any error, or leaves any of your questions unanswered, please help us out by 
                opening up a github issue.<br>
                <a class="" href="https://github.com/softlayer/githubio_source/issues/new?title=Feedback%20for%20article%20-%20Understanding%20and%20building%20an%20order%20using%20the%20Softlayer%20order%20CLI&body=Feedback+regarding%3A%20https%3a%2f%2fsldn.softlayer.com%2farticle%2funderstanding-ordering%2f"> Open an issue</a>
                <i class="fab fa-github" alt="github"></i>
            </p>
    </div>
</div>
    </div>
<footer>
    <div class="row">
        <div class="col-sm-12">
            <p>&copy; SoftLayer 2023<br>
            Built with <a href="https://github.com/spf13/hugo">Hugo</a></p>
        </div>
    </div>
</footer>
</div>

    <script src="https://sldn.softlayer.com/js/jquery.js"></script>
    <script src="https://sldn.softlayer.com/js/bootstrap.js"></script>
</body>
</html>

