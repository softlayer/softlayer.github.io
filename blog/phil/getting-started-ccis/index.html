<!doctype html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SoftLayer API Examples, implementations, and release notes.">
    <meta name="author" content="SoftLayer">

    <title>Getting started with CCIs - https://sldn.softlayer.com/</title>
    <link rel="canonical" href="https://sldn.softlayer.com/blog/phil/getting-started-ccis/">
        <link href="https://sldn.softlayer.com/css/main.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/bootstrap.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/custom.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/monokai.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/highlight/solarized_dark.css" rel="stylesheet">

    <script src="https://sldn.softlayer.com/js/highlight.pack.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="shortcut icon" href="https://sldn.softlayer.com/img/favicon.ico" type="image/x-icon" />
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato" />
            

    <script src="https://sldn.softlayer.com/js/jquery-3.3.1.min.js"></script> 
    <script src="https://sldn.softlayer.com/js/sldn.js"></script>


    <link href="https://sldn.softlayer.com/fontawesome/css/fontawesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/brands.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/solid.min.css" rel="stylesheet" type="text/css">
    
    <script defer src="https://sldn.softlayer.com/fontawesome/js/solid.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/brands.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/fontawesome.min.js"></script>

    <script>
		$(document).ready(function() {
			$('table').addClass("table table-hover table-striped")
		})
	</script>
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9XPZ9ZBSJE"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-9XPZ9ZBSJE', { 'anonymize_ip': false });
}
</script>

</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://sldn.softlayer.com/">SoftLayer API</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    
                        <li><a href="https://sldn.softlayer.com/article/">Articles</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/reference/softlayerapi">Documentation</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/go/">Go</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/java/">Java</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/perl/">Perl</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/php/">PHP</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/python/">Python</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/rest/">Rest</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/ruby/">Ruby</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/tools/">Tools</a></li>
                    

                    
                </ul>
                <div id="custom-search-input" class="pull-right">
                  <form class="navbar-form" role="search" method="get" action="https://www.bing.com/search">
                    <div class="input-group col-md-12">
                      <input type="text" class="form-control input-md" placeholder="Search" name="q" id="srch-term">
                      <input type="hidden" name="q1" value="site:sldn.softlayer.com" />
                      <div class="input-group-btn">
                        <button class="btn btn-info" type="submit">
                          <i class="glyphicon glyphicon-search"></i>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
            </div>
        </div>
    </nav>

<div class="container">
    <div class="row">
    
        <div class="col-md-3">
            <div style="word-wrap: break-word;"> 
                <h4>December 8, 2014<br></h4>
            </div>
        </div>
        <div class="col-md-9">

                <strong>Classes <span class="fa fa-book"/></strong>
                
                <br>
                <strong>Tags <span class="fa fa-tags"/></strong>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/blog">blog</a>
                          
        </div>
    </div>
    <hr>
    <div class="row">
		<div class="col-md-12">
            <div class="well well-sm  article" style="word-wrap: break-word;">
                <div class="article-title">
				    <h1>Getting started with CCIs</h1>
                    <small>&lt;p&gt;In the context of the SoftLayer API, SoftLayer CloudLayer Computing Instances(CCIs) are represented by &lt;a href=https://sldn.softlayer.com/refe</small>
                </div>
				
                
				
                <p>In the context of the SoftLayer API, SoftLayer CloudLayer Computing Instances(CCIs) are represented by <a href="https://sldn.softlayer.com/reference/datatypes/SoftLayer_Virtual_Guest/">SoftLayer_Virtual_Guest</a> objects. The <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Virtual_Guest/">SoftLayer_Virtual_Guest</a> service allows for interaction with a specific CCI and you are able to interact with all CCIs on your account through the <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Account/">SoftLayer_Account</a> service.</p>
<h2>Creating</h2>
<p>Ordering new CCIs is accomplished through <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Virtual_Guest/createObject">SoftLayer_Virtual_Guest::createObject</a>.<br />
First, a SoftLayer_Virtual_Guest template object is created that contains the details of the CCI. Every CCI template object will need, at minimum, the following properties defined:</p>
<ul>
<li>hostname - Hostname of the new CCI</li>
<li>domain - Domain name of the new CCI</li>
<li>startCpus - Number of processing cores</li>
<li>maxMemory - Memory allocation in MB</li>
<li>hourlyBillingFlag - Set true for hourly billing, false for monthly</li>
<li>operatingSystemReferenceCode - Code to specify which OS to install</li>
<li>localDiskFlag - Setting to true will configure a CCI with local disks, false for SAN disks</li>
</ul>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$virtualGuestClient</span> <span style="color: #339933;">=</span> SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Virtual_Guest'</span><span style="color: #339933;">,</span> <span style="color: #000000; font-weight: bold;">null</span><span style="color: #339933;">,</span> <span style="color: #000088;">$user</span><span style="color: #339933;">,</span> <span style="color: #000088;">$key</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$virtualGuestTemplate</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> stdClass<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$virtualGuestTemplate</span><span style="color: #339933;">-></span><span style="color: #004000;">hostname</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'test1'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$virtualGuestTemplate</span><span style="color: #339933;">-></span><span style="color: #004000;">domain</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'example.com'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$virtualGuestTemplate</span><span style="color: #339933;">-></span><span style="color: #004000;">startCpus</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$virtualGuestTemplate</span><span style="color: #339933;">-></span><span style="color: #004000;">maxMemory</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1024</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$virtualGuestTemplate</span><span style="color: #339933;">-></span><span style="color: #004000;">hourlyBillingFlag</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">true</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$virtualGuestTemplate</span><span style="color: #339933;">-></span><span style="color: #004000;">operatingSystemReferenceCode</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'UBUNTU_LATEST'</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$virtualGuestTemplate</span><span style="color: #339933;">-></span><span style="color: #004000;">localDiskFlag</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">false</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$virtualGuestClient</span><span style="color: #339933;">-></span><span style="color: #004000;">createObject</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$virtualGuestTemplate</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a href="http://www.php.net/print_r"><span style="color: #990000;">print_r</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>All options for CCI ordering can be retrieved with <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Virtual_Guest/getCreateObjectOptions">SoftLayer_Virtual_Guest::getCreateObjectOptions</a>.<br />
The <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Virtual_Guest/createObject">createObject()</a> method incurs charges on the account so it is best to test CCI creation without causing an order to be placed with <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Virtual_Guest/generateOrderTemplate">SoftLayer_Virtual_Guest::generateOrderTemplate</a> to generate an order object. The <a href="https://sldn.softlayer.com/reference/datatypes/SoftLayer_Container_Product_Order/">SoftLayer_Container_Product_Order</a> returned by this method can be passed into <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Product_Order/verifyOrder">SoftLayer_Product_Order::verifyOrder</a> which informs of any issues that would prevent the order from processing.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$orderClient</span> <span style="color: #339933;">=</span> SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Product_Order'</span><span style="color: #339933;">,</span> <span style="color: #000000; font-weight: bold;">Null</span><span style="color: #339933;">,</span> <span style="color: #000088;">$user</span><span style="color: #339933;">,</span> <span style="color: #000088;">$key</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$orderContainer</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$virtualGuestClient</span><span style="color: #339933;">-></span><span style="color: #004000;">generateOrderTemplate</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$virtualGuestTemplate</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a href="http://www.php.net/print_r"><span style="color: #990000;">print_r</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$orderClient</span><span style="color: #339933;">-></span><span style="color: #004000;">verifyOrder</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$orderContainer</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<h2>Listing</h2>
<p>A list of all CloudLayer Computing Instances can be gathered from the <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Account/">SoftLayer_Account</a> service with the <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Account/getVirtualGuests">SoftLayer_Account::getVirtualGuests</a> method. This method returns an array of <a href="https://sldn.softlayer.com/reference/datatypes/SoftLayer_Virtual_Guest/">SoftLayer_Virtual_Guest</a> data type objects.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$accountClient</span> <span style="color: #339933;">=</span> SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Account'</span><span style="color: #339933;">,</span> <span style="color: #000000; font-weight: bold;">Null</span><span style="color: #339933;">,</span> <span style="color: #000088;">$user</span><span style="color: #339933;">,</span> <span style="color: #000088;">$key</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$virtualGuests</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$accountClient</span><span style="color: #339933;">-></span><span style="color: #004000;">getVirtualGuests</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a href="http://www.php.net/print_r"><span style="color: #990000;">print_r</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$virtualGuests</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>This full listing is often used for retrieving information about all CCIs on an account and is also useful when searching for a specific CCI whos ID is unknown.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$accountClient</span> <span style="color: #339933;">=</span> SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Account'</span><span style="color: #339933;">,</span> <span style="color: #000000; font-weight: bold;">Null</span><span style="color: #339933;">,</span> <span style="color: #000088;">$user</span><span style="color: #339933;">,</span> <span style="color: #000088;">$key</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$virtualGuests</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$accountClient</span><span style="color: #339933;">-></span><span style="color: #004000;">getVirtualGuests</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$virtualGuests</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$virtualGuest</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
    <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$virtualGuest</span><span style="color: #339933;">-></span><span style="color: #004000;">hostname</span> <span style="color: #339933;">==</span> <span style="color: #0000ff;">"server1"</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
        <span style="color: #000088;">$serverId</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$virtualGuest</span><span style="color: #339933;">-></span><span style="color: #004000;">id</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre></div>
<h2>Details</h2>
<p>To get information about a specific CCI we can use <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Virtual_Guest/getObject">SoftLayer_Virtual_Guest::getObject</a> which returns a <a href="https://sldn.softlayer.com/reference/datatypes/SoftLayer_Virtual_Guest/">SoftLayer_Virtual_Guest</a> object. <a href="https://sldn.softlayer.com/article/Object masks">Object masks</a> can be used to include data outside of <a href="https://sldn.softlayer.com/reference/datatypes/SoftLayer_Virtual_Guest/">SoftLayer_Virtual_Guest's</a> local properties. Below is an example of using getObject on the SoftLayer_Virtual_Guest service with an object mask which  provides the passwords for the operating system installed on the server.</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$guestClient</span> <span style="color: #339933;">=</span> SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Virtual_Guest'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$id</span><span style="color: #339933;">,</span> <span style="color: #000088;">$user</span><span style="color: #339933;">,</span> <span style="color: #000088;">$key</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$objectMask</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">"mask[id, hostname, domain, operatingSystem[passwords]]"</span>
<span style="color: #000088;">$guestClient</span><span style="color: #339933;">-></span><span style="color: #004000;">setObjectMask</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$objectMask</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$virtualGuest</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$guestClient</span><span style="color: #339933;">-></span><span style="color: #004000;">getObject</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a href="http://www.php.net/print_r"><span style="color: #990000;">print_r</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$virtualGuest</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>Since we have also defined a number of local properties, notice the output only includes the limited set of local properties defined in the mask in addition to the relational properties brought in by the object mask.</p>
<h2>Canceling</h2>
<p>Canceling CCIs can be done by pulling the ID from the SoftLayer_Account service. In this example we pull all virtual guests from the account and use the hostname to parse the specific guest we want to cancel. This should be used with caution as the hostname of a virtual guest is not unique.<br />
SoftLayer_Virtual_Guest::deleteObject</p>
<div class="geshifilter">
<pre class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$guestClient</span> <span style="color: #339933;">=</span> SoftLayer_SoapClient<span style="color: #339933;">::</span><span style="color: #004000;">getClient</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'SoftLayer_Virtual_Guest'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$serverId</span><span style="color: #339933;">,</span> <span style="color: #000088;">$user</span><span style="color: #339933;">,</span> <span style="color: #000088;">$key</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$guestClient</span><span style="color: #339933;">-></span><span style="color: #004000;">deleteObject</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
<a href="http://www.php.net/print_r"><span style="color: #990000;">print_r</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre></div>
<p>This method immediately cancels the computing instance with the specified ID.<br />
Note: Pausing an instance with <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Virtual_Guest/pause">SoftLayer_Virtual_Guest::pause</a> will not stop billing. An instance must be cancelled/destroyed for billing to cease.</p>
<h2>Rebooting</h2>
<p>Power cycling a CCI can be done two ways:</p>
<ul>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Virtual_Guest/rebootHard">SoftLayer_Virtual_Guest::rebootHard</a> - Removing and reapplying the power source</li>
<li><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Virtual_Guest/rebootSoft">SoftLayer_Virtual_Guest::rebootSoft</a> - Attempt to reboot the device with an OS level command</li>
</ul>

            </div>
        </div>

    </div>
    <hr>
    <div class="row">
        <div class="row">
            <div class="col-md-6">
    <div class="well well-sm" style="word-wrap: break-word;"> 
        <strong>Feedback? <span class="fas fa-comment"/></strong>
            <p>
                If this article contains any error, or leaves any of your questions unanswered, please help us out by 
                opening up a github issue.<br>
                <a class="" href="https://github.com/softlayer/githubio_source/issues/new?title=Feedback%20for%20blog%20-%20Getting%20started%20with%20CCIs&body=Feedback+regarding%3A%20https%3a%2f%2fsldn.softlayer.com%2fblog%2fphil%2fgetting-started-ccis%2f"> Open an issue</a>
                <i class="fab fa-github" alt="github"></i>
                <span> - </span>
                <a class="" href="https://github.com/softlayer/githubio_source/edit/master/content/blog/blog/phil/getting-started-ccis.md.md" style="text-align: right;"> Quick Edit</a>
                <i class="fab fa-github" alt="github"></i>

            </p>
    </div>
</div>

        </div>
    </div>
<footer>
    <div class="row">
        <div class="col-sm-12">
            <p>&copy; SoftLayer 2024<br>
            Built with <a href="https://github.com/spf13/hugo">Hugo</a></p>
        </div>
    </div>
</footer>
</div>

    <script src="https://sldn.softlayer.com/js/jquery.js"></script>
    <script src="https://sldn.softlayer.com/js/bootstrap.js"></script>
</body>
</html>
