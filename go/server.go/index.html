<!doctype html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SoftLayer API Examples, implementations, and release notes.">
    <meta name="author" content="SoftLayer">

    <title>More Bare Metal Server examples - https://sldn.softlayer.com/</title>
    <link rel="canonical" href="https://sldn.softlayer.com/go/server.go/">
        <link href="https://sldn.softlayer.com/css/main.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/bootstrap.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/custom.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/monokai.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/highlight/solarized_dark.css" rel="stylesheet">
    

    <script src="https://sldn.softlayer.com/js/highlight.pack.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="shortcut icon" href="https://sldn.softlayer.com/img/favicon.ico" type="image/x-icon" />
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato" />
            

    <script src="https://sldn.softlayer.com/js/jquery-3.3.1.min.js"></script> 
    <script src="https://sldn.softlayer.com/js/sldn.js"></script>


    <link href="https://sldn.softlayer.com/fontawesome/css/fontawesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/brands.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/solid.min.css" rel="stylesheet" type="text/css">
    
    <script defer src="https://sldn.softlayer.com/fontawesome/js/solid.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/brands.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/fontawesome.min.js"></script>

    <script>
        var head = document.getElementsByTagName('head')[0]
        var style = document.createElement('link')
        style.type = 'text/css'
        style.rel = 'stylesheet'
        style.id = "dark-theme"
        if (localStorage.getItem("dark-mode-theme") == "dark") {
            style.href = '/css/dark.css'
        } else {
            style.href = '/css/light.css'
        }
        head.append(style)
    </script>

    <script>
		$(document).ready(function() {
			$('table').addClass("table table-hover table-striped")
            setThemeMode(localStorage.getItem("dark-mode-theme") || "dark");
		})
	</script>
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-9XPZ9ZBSJE"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-9XPZ9ZBSJE');
        }
      </script>
</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="nav-container">
            <div class="navbar-header" style="width: 150px">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://sldn.softlayer.com/">SoftLayer API</a>
            </div>

            <div class="navbar-header" style="width: calc(100% - 350px)">
                <ul class="nav navbar-nav" style="width: 100%">
                    
                        <li><a href="https://sldn.softlayer.com/article/">Articles</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/reference/softlayerapi">Docs</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/go/">Go</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/java/">Java</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/php/">PHP</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/python/">Python</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/rest/">Rest</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/ruby/">Ruby</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/tools/">Tools</a></li>
                    
                    <li class="nav-item">
                        <a id="dark-toggle" class="dark-mode-toggle" aria-label="dark-mode-toggle" style="color: var(--Red); font-size: 20px">
                            <i class="fas fa-sun"></i>
                        </a>
                    </li>
                </ul>
            </div>

            <div id="custom-search-input" class="pull-right" style="width: 200px">
              <form class="navbar-form" role="search" method="get" action="https://www.bing.com/search">
                <div class="input-group col-md-12">
                  <input type="text" class="form-control input-md" placeholder="Search" name="q" id="srch-term">
                  <input type="hidden" name="q1" value="site:sldn.softlayer.com" />
                  <div class="input-group-btn">
                    <button class="btn btn-info" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </div>
                </div>
              </form>
            </div>

        </div>
    </nav>

<script type="text/javascript">
const darkIconClass = 'fas fa-moon'
const lightIconClass = 'fas fa-sun'
var darkCSS = $("#dark-theme");
var darkToggleIcon = $("#dark-toggle i");




function setThemeMode(mode) {
    localStorage.setItem("dark-mode-theme", mode);
    if (mode === "dark") {
        darkToggleIcon.attr('class', darkIconClass)
    } else  {
        darkToggleIcon.attr('class', lightIconClass)
    }
}


$("#dark-toggle").click(function () {
  if (darkToggleIcon.attr("class") == lightIconClass) {
    setThemeMode("dark")
  } else if (darkToggleIcon.attr("class") == darkIconClass) {
    setThemeMode("light")
  }
  location.reload();
});
</script>
<div class="container">
    <div class="row">
    
        <div class="col-md-3">
            <div style="word-wrap: break-word;"> 
                <h4>July 12, 2021<br></h4>
            </div>
        </div>
        <div class="col-md-9">

                <strong>Classes <span class="fa fa-book"/></strong>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Container_Product_Order">SoftLayer_Container_Product_Order</a>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Product_Item_Price">SoftLayer_Product_Item_Price</a>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Hardware_Server">SoftLayer_Hardware_Server</a>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Product_Package">SoftLayer_Product_Package</a>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Container_Product_Order_Hardware_Server">SoftLayer_Container_Product_Order_Hardware_Server</a>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Product_Order">SoftLayer_Product_Order</a>
                
                <br>
                <strong>Tags <span class="fa fa-tags"/></strong>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/baremetalservers">baremetalservers</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/hardware">hardware</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/order">order</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/objectfilter">objectfilter</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/objectmask">objectmask</a>
                          
        </div>
    </div>
    <hr>
    <div class="row">
		<div class="col-md-12">
            <div class="well well-sm  article" style="word-wrap: break-word;">
                <div class="article-title">
				    <h1>More Bare Metal Server examples</h1>
                    <small>Working with Bare Metal Server</small>
                </div>
				
                
				
                <p>A few examples on interacting with Bare Metal Server, <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Hardware_Server/">SoftLayer_Hardware_Server</a>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;encoding/json&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/IBM-Cloud/ibm-cloud-cli-sdk/bluemix/terminal&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/softlayer/softlayer-go/datatypes&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/softlayer/softlayer-go/filter&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/softlayer/softlayer-go/services&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/softlayer/softlayer-go/session&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;github.com/softlayer/softlayer-go/sl&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Session created using values set in the environment, or from the local configuration file (i.e. ~/.softlayer).
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">sess</span> <span class="p">=</span> <span class="nx">session</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Dictionary</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Shows all servers in the account.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">listServers</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Shows all available packages to order/create a Bare Metal server.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">listServerPackages</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Shows just fast provision packages to order/create a Bare Metal server.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">listServerPackagesFastProvision</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Shows available locations for the package and the items within the package.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">packageKeyname</span> <span class="o">:=</span> <span class="s">&#34;DUAL_E52600_V4_12_DRIVES&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nf">listPackageDetails</span><span class="p">(</span><span class="nx">packageKeyname</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Function to create a hardware server, it contains an example that could use as a template,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// so changing the values within the example we can order a different server,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// the functions provided above,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// helps to get all available values to build an order for Bare Metal Server.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nf">serverCreate</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">//Shows some details for a Bare Metal Server.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">hostname</span> <span class="o">:=</span> <span class="s">&#34;server-hostname&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nf">serverDetails</span><span class="p">(</span><span class="nx">hostname</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Edit some parameters for a server, just uncomment hostname and domain if you want to update them.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">paramsToEdit</span> <span class="o">:=</span> <span class="nx">Dictionary</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;Notes&#34;</span><span class="p">:</span> <span class="s">&#34;My golang note&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="c1">//&#34;Hostaname&#34;: &#34;NewHostname&#34;,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>		<span class="c1">//&#34;Domain&#34;: &#34;NewDomain&#34;,
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">hostname</span> <span class="p">=</span> <span class="s">&#34;server-hostname&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nf">editServer</span><span class="p">(</span><span class="nx">hostname</span><span class="p">,</span> <span class="nx">paramsToEdit</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Cancel a bare metal server.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// To make sure the server specified to cancel is the one you want
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// verify that the identifier passed to cancelServer is correct.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">hostname</span> <span class="p">=</span> <span class="s">&#34;server-hostname-to-cancel&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">serverId</span> <span class="o">:=</span> <span class="nf">getServerId</span><span class="p">(</span><span class="nx">hostname</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">cancelServer</span><span class="p">(</span><span class="nx">serverId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Creates a hardware server, it contains an example to build an order for a Bare Metal Server.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">serverCreate</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">quantity</span> <span class="o">:=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="nx">location</span> <span class="o">:=</span> <span class="s">&#34;TORONTO&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// listServerPackages() shows all available package IDs as well as their key names.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">packageId</span> <span class="o">:=</span> <span class="mi">553</span>
</span></span><span class="line"><span class="cl">	<span class="nx">hostname</span> <span class="o">:=</span> <span class="s">&#34;test&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">domain</span> <span class="o">:=</span> <span class="s">&#34;example.com&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">server</span> <span class="o">:=</span> <span class="p">[]</span><span class="nx">datatypes</span><span class="p">.</span><span class="nx">Hardware</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Hostname</span><span class="p">:</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="nx">hostname</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Domain</span><span class="p">:</span>   <span class="nx">sl</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="nx">domain</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="p">},</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">required_items</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;AUTOMATED_NOTIFICATION&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;MONITORING_HOST_PING&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;NOTIFICATION_EMAIL_AND_TICKET&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;REBOOT_KVM_OVER_IP&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;UNLIMITED_SSL_VPN_USERS_1_PPTP_VPN_USER_PER_ACCOUNT&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;REDUNDANT_POWER_SUPPLY&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//We need bandwidth, at least 1 ip, and the port speed.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">network_items</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;BANDWIDTH_500_GB&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;1_IP_ADDRESS&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;1_GBPS_DUAL_PUBLIC_PRIVATE_NETWORK_UPLINKS_UNBONDED&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//A disk controller, a duplicate entry for each disk you want, in order, ram, OS and processor chip.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">physical_items</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;DISK_CONTROLLER_RAID&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;HARD_DRIVE_2_00_TB_SATA_2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;HARD_DRIVE_2_00_TB_SATA_2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;HARD_DRIVE_2_00_TB_SATA_2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;HARD_DRIVE_12_00_TB_SATA&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;RAM_64_GB_DDR4_2133_ECC_NON_REG&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;OS_CENTOS_7_X_64_BIT&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;INTEL_INTEL_XEON_E52620_V4_2_10&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;HARD_DRIVE_NVME_375_GB_PCIE&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">orderItems</span> <span class="o">:=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">network_items</span><span class="p">,</span> <span class="nx">required_items</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">orderItems</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">orderItems</span><span class="p">,</span> <span class="nx">physical_items</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Build a skeleton SoftLayer_Product_Item_Price objects.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">prices</span> <span class="o">:=</span> <span class="nf">getItemPriceList</span><span class="p">(</span><span class="nx">packageId</span><span class="p">,</span> <span class="nx">orderItems</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Build a container_Product_Order object.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">orderTemplate</span> <span class="o">:=</span> <span class="nx">datatypes</span><span class="p">.</span><span class="nx">Container_Product_Order</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Quantity</span><span class="p">:</span>  <span class="nx">sl</span><span class="p">.</span><span class="nf">Int</span><span class="p">(</span><span class="nx">quantity</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Location</span><span class="p">:</span>  <span class="nx">sl</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="nx">location</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">PackageId</span><span class="p">:</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Int</span><span class="p">(</span><span class="nx">packageId</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Prices</span><span class="p">:</span>    <span class="nx">prices</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="nx">Hardware</span><span class="p">:</span>  <span class="nx">server</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Get SoftLayer_Product_Order service.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">service</span> <span class="o">:=</span> <span class="nx">services</span><span class="p">.</span><span class="nf">GetProductOrderService</span><span class="p">(</span><span class="nx">sess</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="cm">/* Use verifyOrder() method to check for errors.
</span></span></span><span class="line"><span class="cl"><span class="cm">	   Replace this with placeOrder() when you are ready to order.
</span></span></span><span class="line"><span class="cl"><span class="cm">	*/</span>
</span></span><span class="line"><span class="cl">	<span class="nx">result</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">service</span><span class="p">.</span><span class="nf">VerifyOrder</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">orderTemplate</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\n Unable to place order:\n - %s\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printAsJsonFormat</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Converts a list of item keyNames to a list of standard item prices,
</span></span></span><span class="line"><span class="cl"><span class="cm">given package associated with the prices and a list of items KeyNames.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">getItemPriceList</span><span class="p">(</span><span class="nx">packageId</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">itemKeyNames</span> <span class="p">[]</span><span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">resp</span> <span class="p">[]</span><span class="nx">datatypes</span><span class="p">.</span><span class="nx">Product_Item_Price</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">items</span> <span class="o">:=</span> <span class="nf">getPackageItems</span><span class="p">(</span><span class="nx">packageId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">prices</span> <span class="p">[]</span><span class="nx">datatypes</span><span class="p">.</span><span class="nx">Product_Item_Price</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">itemKeyName</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">itemKeyNames</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">item</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">items</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="nx">item</span><span class="p">.</span><span class="nx">KeyName</span><span class="p">)</span> <span class="o">==</span> <span class="nx">itemKeyName</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">itemPrice</span> <span class="o">:=</span> <span class="nf">getStandardPrice</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="nx">prices</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">prices</span><span class="p">,</span> <span class="nx">itemPrice</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">				<span class="k">break</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">			<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">prices</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//Gets the items for the given package identifier.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">getPackageItems</span><span class="p">(</span><span class="nx">packageId</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="nx">resp</span> <span class="p">[]</span><span class="nx">datatypes</span><span class="p">.</span><span class="nx">Product_Item</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">mask</span> <span class="p">=</span> <span class="s">&#34;id, itemCategory, keyName,&#34;</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;prices[id, hourlyRecurringFee, recurringFee, categories]&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">service</span> <span class="p">=</span> <span class="nx">services</span><span class="p">.</span><span class="nf">GetProductPackageService</span><span class="p">(</span><span class="nx">sess</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">receipt</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">service</span><span class="p">.</span><span class="nf">Id</span><span class="p">(</span><span class="nx">packageId</span><span class="p">).</span><span class="nf">Mask</span><span class="p">(</span><span class="nx">mask</span><span class="p">).</span><span class="nf">GetItems</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\n Unable to get Items:\n - %s\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">receipt</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Prints the items and locations available in the given package
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">listPackageDetails</span><span class="p">(</span><span class="nx">keyname</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Get SoftLayer_Product_Package service
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">service</span> <span class="o">:=</span> <span class="nx">services</span><span class="p">.</span><span class="nf">GetProductPackageService</span><span class="p">(</span><span class="nx">sess</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">filter</span> <span class="o">:=</span> <span class="nx">filter</span><span class="p">.</span><span class="nf">Build</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="nx">filter</span><span class="p">.</span><span class="nf">Path</span><span class="p">(</span><span class="s">&#34;keyName&#34;</span><span class="p">).</span>
</span></span><span class="line"><span class="cl">			<span class="nf">Eq</span><span class="p">(</span><span class="nx">keyname</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">mask</span> <span class="o">:=</span> <span class="s">&#34;id, keyName, description, regions,&#34;</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;items[id, keyName, description,&#34;</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;prices[hourlyRecurringFee, recurringFee,&#34;</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;capacityRestrictionMaximum, capacityRestrictionMinimum, capacityRestrictionType]]&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Call the method SoftLayer_Product_Package:getAllObjects
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">packages</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">service</span><span class="p">.</span><span class="nf">Filter</span><span class="p">(</span><span class="nx">filter</span><span class="p">).</span><span class="nf">Mask</span><span class="p">(</span><span class="nx">mask</span><span class="p">).</span><span class="nf">GetAllObjects</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%s\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">productPackage</span> <span class="o">:=</span> <span class="nx">packages</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printLocations</span><span class="p">(</span><span class="nx">productPackage</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printItemsDetails</span><span class="p">(</span><span class="nx">productPackage</span><span class="p">.</span><span class="nx">Items</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Prints the locations for a Product_Package.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printLocations</span><span class="p">(</span><span class="nx">packageInstance</span> <span class="nx">datatypes</span><span class="p">.</span><span class="nx">Product_Package</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">rows</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;Locations&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">cmd</span> <span class="o">:=</span> <span class="nx">terminal</span><span class="p">.</span><span class="nf">NewStdUI</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span> <span class="o">:=</span> <span class="nx">cmd</span><span class="p">.</span><span class="nf">Table</span><span class="p">(</span><span class="nx">rows</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">region</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">packageInstance</span><span class="p">.</span><span class="nx">Regions</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">keyname</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">region</span><span class="p">.</span><span class="nx">Keyname</span><span class="p">).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nx">keyname</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">cmd</span><span class="p">.</span><span class="nf">Say</span><span class="p">(</span><span class="s">&#34;List of Locations&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Print</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Prints a list of product items.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printItemsDetails</span><span class="p">(</span><span class="nx">items</span> <span class="p">[]</span><span class="nx">datatypes</span><span class="p">.</span><span class="nx">Product_Item</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">rows</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;Keyname&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;restriction _ minimum _ maximum&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;standard_monthly_price&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;standard_hourly_price&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">cmd</span> <span class="o">:=</span> <span class="nx">terminal</span><span class="p">.</span><span class="nf">NewStdUI</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span> <span class="o">:=</span> <span class="nx">cmd</span><span class="p">.</span><span class="nf">Table</span><span class="p">(</span><span class="nx">rows</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">item</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">items</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">itemPrice</span> <span class="o">:=</span> <span class="nf">getStandardPrice</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">keyname</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">KeyName</span><span class="p">).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">capacityRestrictionType</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">itemPrice</span><span class="p">.</span><span class="nx">CapacityRestrictionType</span><span class="p">).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">capacityRestrictionMinimum</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">itemPrice</span><span class="p">.</span><span class="nx">CapacityRestrictionMinimum</span><span class="p">).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">capacityRestrictionMaximum</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">itemPrice</span><span class="p">.</span><span class="nx">CapacityRestrictionMaximum</span><span class="p">).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">restriction</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s _ %s _ %s&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">capacityRestrictionType</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">capacityRestrictionMinimum</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">capacityRestrictionMaximum</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">hourly</span> <span class="o">:=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">		<span class="nx">hourlyPrice</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nf">getFee</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">hourly</span><span class="p">)).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">hourly</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">		<span class="nx">monthlyPrice</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nf">getFee</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">hourly</span><span class="p">)).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nx">keyname</span><span class="p">,</span> <span class="nx">restriction</span><span class="p">,</span> <span class="nx">monthlyPrice</span><span class="p">,</span> <span class="nx">hourlyPrice</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">cmd</span><span class="p">.</span><span class="nf">Say</span><span class="p">(</span><span class="s">&#34;List of product items&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Print</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Gets the HourlyRecurringFee or monthly RecurringFee from a Product_Item_Price.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">getFee</span><span class="p">(</span><span class="nx">item</span> <span class="nx">datatypes</span><span class="p">.</span><span class="nx">Product_Item</span><span class="p">,</span> <span class="nx">hourlyPriceFlag</span> <span class="kt">bool</span><span class="p">)</span> <span class="p">(</span><span class="nx">resp</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">itemPrice</span> <span class="o">:=</span> <span class="nf">getStandardPrice</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">itemPrice</span><span class="p">.</span><span class="nx">HourlyRecurringFee</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="o">&amp;&amp;</span> <span class="nx">hourlyPriceFlag</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%.2f&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">itemPrice</span><span class="p">.</span><span class="nx">HourlyRecurringFee</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">itemPrice</span><span class="p">.</span><span class="nx">RecurringFee</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="o">&amp;&amp;</span> <span class="p">!</span><span class="nx">hourlyPriceFlag</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%.2f&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">itemPrice</span><span class="p">.</span><span class="nx">RecurringFee</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="s">&#34;_&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Gets the standard Price from an item.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">getStandardPrice</span><span class="p">(</span><span class="nx">item</span> <span class="nx">datatypes</span><span class="p">.</span><span class="nx">Product_Item</span><span class="p">)</span> <span class="p">(</span><span class="nx">resp</span> <span class="nx">datatypes</span><span class="p">.</span><span class="nx">Product_Item_Price</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">itemPrice</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">item</span><span class="p">.</span><span class="nx">Prices</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nx">itemPrice</span><span class="p">.</span><span class="nx">LocationGroupId</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="k">return</span> <span class="nx">itemPrice</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">datatypes</span><span class="p">.</span><span class="nx">Product_Item_Price</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Prints the servers in the account.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">listServers</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Get SoftLayer_Account service
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">service</span> <span class="o">:=</span> <span class="nx">services</span><span class="p">.</span><span class="nf">GetAccountService</span><span class="p">(</span><span class="nx">sess</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Object-Mask in order to get specific data of server.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">mask</span> <span class="o">:=</span> <span class="s">&#34;id;hostname;primaryIpAddress;primaryBackendIpAddress;datacenter;&#34;</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;datacenterName;serviceProvider;hardwareFunctionDescription&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Call the getHardware() method.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">hardware</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">service</span><span class="p">.</span><span class="nf">Mask</span><span class="p">(</span><span class="nx">mask</span><span class="p">).</span><span class="nf">GetHardware</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\n Unable to get Bare Metal Servers:\n - %s\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printServers</span><span class="p">(</span><span class="nx">hardware</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Prints a list of servers
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printServers</span><span class="p">(</span><span class="nx">servers</span> <span class="p">[]</span><span class="nx">datatypes</span><span class="p">.</span><span class="nx">Hardware</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">rows</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;id&#34;</span><span class="p">,</span> <span class="s">&#34;hostname&#34;</span><span class="p">,</span> <span class="s">&#34;primary_ip&#34;</span><span class="p">,</span> <span class="s">&#34;backend_ip&#34;</span><span class="p">,</span> <span class="s">&#34;datacenter&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">cmd</span> <span class="o">:=</span> <span class="nx">terminal</span><span class="p">.</span><span class="nf">NewStdUI</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span> <span class="o">:=</span> <span class="nx">cmd</span><span class="p">.</span><span class="nf">Table</span><span class="p">(</span><span class="nx">rows</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">server</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">servers</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">serverId</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="nx">server</span><span class="p">.</span><span class="nx">Id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">hostname</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">Hostname</span><span class="p">).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">primaryIp</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">PrimaryIpAddress</span><span class="p">).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">backendIp</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">PrimaryBackendIpAddress</span><span class="p">).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">datacenter</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">DatacenterName</span><span class="p">).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nx">serverId</span><span class="p">,</span> <span class="nx">hostname</span><span class="p">,</span> <span class="nx">primaryIp</span><span class="p">,</span> <span class="nx">backendIp</span><span class="p">,</span> <span class="nx">datacenter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">cmd</span><span class="p">.</span><span class="nf">Say</span><span class="p">(</span><span class="s">&#34;List of Servers&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Print</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Prints the available Bare Metal Servers packages.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">listServerPackages</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Get SoftLayer_Product_Package_Server service
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">service</span> <span class="o">:=</span> <span class="nx">services</span><span class="p">.</span><span class="nf">GetProductPackageServerService</span><span class="p">(</span><span class="nx">sess</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// To get all packages of servers available for ordering, we will use the following filter.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">filter</span> <span class="o">:=</span> <span class="nx">filter</span><span class="p">.</span><span class="nf">Build</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="nx">filter</span><span class="p">.</span><span class="nf">Path</span><span class="p">(</span><span class="s">&#34;packageType&#34;</span><span class="p">).</span>
</span></span><span class="line"><span class="cl">			<span class="nf">In</span><span class="p">(</span><span class="s">&#34;BARE_METAL_CORE&#34;</span><span class="p">,</span> <span class="s">&#34;BARE_METAL_CPU&#34;</span><span class="p">,</span> <span class="s">&#34;BARE_METAL_CPU_FAST_PROVISION&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">mask</span> <span class="o">:=</span> <span class="s">&#34;package&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Call the method SoftLayer_Product_Package_Server::getAllObjects
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">productPackageServes</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">service</span><span class="p">.</span><span class="nf">Filter</span><span class="p">(</span><span class="nx">filter</span><span class="p">).</span><span class="nf">Mask</span><span class="p">(</span><span class="nx">mask</span><span class="p">).</span><span class="nf">GetAllObjects</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="c1">//productPackageServes, err := service.GetAllObjects()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%s\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printPackageDetails</span><span class="p">(</span><span class="nx">productPackageServes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Prints the available Bare Metal Servers packages BARE_METAL_CPU_FAST_PROVISION type.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">listServerPackagesFastProvision</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Get SoftLayer_Product_Package_Server service
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">service</span> <span class="o">:=</span> <span class="nx">services</span><span class="p">.</span><span class="nf">GetProductPackageServerService</span><span class="p">(</span><span class="nx">sess</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// In order to get all &#39;BARE_METAL_CPU_FAST_PROVISION&#39; servers to order we will use the following filter
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">filter</span> <span class="o">:=</span> <span class="nx">filter</span><span class="p">.</span><span class="nf">Build</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="nx">filter</span><span class="p">.</span><span class="nf">Path</span><span class="p">(</span><span class="s">&#34;packageType&#34;</span><span class="p">).</span><span class="nf">Eq</span><span class="p">(</span><span class="s">&#34;BARE_METAL_CPU_FAST_PROVISION&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">mask</span> <span class="o">:=</span> <span class="s">&#34;package&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Call the method SoftLayer_Product_Package_Server::getAllObjects
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">productPackageServes</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">service</span><span class="p">.</span><span class="nf">Filter</span><span class="p">(</span><span class="nx">filter</span><span class="p">).</span><span class="nf">Mask</span><span class="p">(</span><span class="nx">mask</span><span class="p">).</span><span class="nf">GetAllObjects</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%s\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printPackageDetails</span><span class="p">(</span><span class="nx">productPackageServes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Prints the package details.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printPackageDetails</span><span class="p">(</span><span class="nx">productPackages</span> <span class="p">[]</span><span class="nx">datatypes</span><span class="p">.</span><span class="nx">Product_Package_Server</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">rows</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;id&#34;</span><span class="p">,</span> <span class="s">&#34;keyname&#34;</span><span class="p">,</span> <span class="s">&#34;description&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">cmd</span> <span class="o">:=</span> <span class="nx">terminal</span><span class="p">.</span><span class="nf">NewStdUI</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span> <span class="o">:=</span> <span class="nx">cmd</span><span class="p">.</span><span class="nf">Table</span><span class="p">(</span><span class="nx">rows</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">productPackage</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">productPackages</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">id</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">productPackage</span><span class="p">.</span><span class="nx">PackageId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">keyname</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">productPackage</span><span class="p">.</span><span class="nx">Package</span><span class="p">.</span><span class="nx">KeyName</span><span class="p">).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nx">name</span> <span class="o">:=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">productPackage</span><span class="p">.</span><span class="nx">ProductName</span><span class="p">).(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">keyname</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">cmd</span><span class="p">.</span><span class="nf">Say</span><span class="p">(</span><span class="s">&#34;Package details&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Print</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Edit note, hostname, and domain of a hardware server
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">editServer</span><span class="p">(</span><span class="nx">serverName</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">params</span> <span class="nx">Dictionary</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Define the new local properties to set. While we&#39;re only editing a server&#39;s notes
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// in this example you can also use editObject() to edit the server&#39;s hostname and domain.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">objectTemplate</span> <span class="o">:=</span> <span class="nx">datatypes</span><span class="p">.</span><span class="nx">Hardware_Server</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">notes</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">params</span><span class="p">[</span><span class="s">&#34;Notes&#34;</span><span class="p">];</span> <span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">objectTemplate</span><span class="p">.</span><span class="nx">Notes</span> <span class="p">=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="nx">notes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">hostname</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">params</span><span class="p">[</span><span class="s">&#34;Hostname&#34;</span><span class="p">];</span> <span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">objectTemplate</span><span class="p">.</span><span class="nx">Notes</span> <span class="p">=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="nx">hostname</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">domain</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">params</span><span class="p">[</span><span class="s">&#34;Domain&#34;</span><span class="p">];</span> <span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">objectTemplate</span><span class="p">.</span><span class="nx">Notes</span> <span class="p">=</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="nx">domain</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">hardwareService</span> <span class="o">:=</span> <span class="nx">services</span><span class="p">.</span><span class="nf">GetHardwareServerService</span><span class="p">(</span><span class="nx">sess</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">serverId</span> <span class="o">:=</span> <span class="nf">getServerId</span><span class="p">(</span><span class="nx">serverName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">result</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">hardwareService</span><span class="p">.</span><span class="nf">Id</span><span class="p">(</span><span class="nx">serverId</span><span class="p">).</span><span class="nf">EditObject</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">objectTemplate</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\n Unable to edit the server &#39;&#34;</span><span class="o">+</span><span class="nx">serverName</span><span class="o">+</span><span class="s">&#34;&#39;\n - %s\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">result</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\n Server &#39;%s&#39; was successfuly edited\n&#34;</span><span class="p">,</span> <span class="nx">serverName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="nf">serverDetails</span><span class="p">(</span><span class="nx">serverId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Prints server details by server identifier
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">serverDetails</span><span class="p">(</span><span class="nx">identifier</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">serverId</span> <span class="o">:=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="k">switch</span> <span class="nx">identifier</span> <span class="o">:=</span> <span class="nx">identifier</span><span class="p">.(</span><span class="kd">type</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="kt">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nx">serverId</span> <span class="p">=</span> <span class="nx">identifier</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="kt">string</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nx">hostname</span> <span class="o">:=</span> <span class="nx">identifier</span>
</span></span><span class="line"><span class="cl">		<span class="nx">serverId</span> <span class="p">=</span> <span class="nf">getServerId</span><span class="p">(</span><span class="nx">hostname</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">mask</span> <span class="o">:=</span> <span class="s">&#34;id, hostname, domain, globalIdentifier, fullyQualifiedDomainName, hardwareStatus,&#34;</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;processorPhysicalCoreAmount, memoryCapacity, primaryBackendIpAddress, primaryIpAddress,&#34;</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;networkManagementIpAddress, datacenter,&#34;</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;operatingSystem[softwareLicense[softwareDescription[manufacturer, name, version, referenceCode]]],&#34;</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;billingItem[id, nextInvoiceTotalRecurringAmount, children[nextInvoiceTotalRecurringAmount],&#34;</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">		<span class="s">&#34;orderItem.order.userRecord[username]], tagReferences[id, tag[name, id]], notes&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">server</span> <span class="o">:=</span> <span class="nf">getServerIntance</span><span class="p">(</span><span class="nx">serverId</span><span class="p">,</span> <span class="nx">mask</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nf">printServerDetail</span><span class="p">(</span><span class="nx">server</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Gets the identifier of a server from the hostname.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">getServerId</span><span class="p">(</span><span class="nx">hostname</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">resp</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">accountService</span> <span class="o">:=</span> <span class="nx">services</span><span class="p">.</span><span class="nf">GetAccountService</span><span class="p">(</span><span class="nx">sess</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Following filter and mask helps to get the ID of bare metal server
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">filter</span> <span class="o">:=</span> <span class="nx">filter</span><span class="p">.</span><span class="nf">Build</span><span class="p">(</span><span class="nx">filter</span><span class="p">.</span><span class="nf">Path</span><span class="p">(</span><span class="s">&#34;hardware.hostname&#34;</span><span class="p">).</span><span class="nf">Eq</span><span class="p">(</span><span class="nx">hostname</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">mask</span> <span class="o">:=</span> <span class="s">&#34;id;hostname&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Call the getHardware() method to get list of servers that matches with the filter
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">hardware</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">accountService</span><span class="p">.</span><span class="nf">Mask</span><span class="p">(</span><span class="nx">mask</span><span class="p">).</span><span class="nf">Filter</span><span class="p">(</span><span class="nx">filter</span><span class="p">).</span><span class="nf">GetHardware</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\n Unable to find server &#39;&#34;</span><span class="o">+</span><span class="nx">hostname</span><span class="o">+</span><span class="s">&#34;&#39;\n - %s\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// If server name was not found we throw a message
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">hardware</span><span class="p">)</span> <span class="p">&lt;</span> <span class="mi">1</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\n Unable to find server &#39;%s&#39;\n&#34;</span><span class="p">,</span> <span class="nx">hostname</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="o">*</span><span class="nx">hardware</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">Id</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Prints server details
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printServerDetail</span><span class="p">(</span><span class="nx">server</span> <span class="nx">datatypes</span><span class="p">.</span><span class="nx">Hardware_Server</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">rows</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;Name&#34;</span><span class="p">,</span> <span class="s">&#34;Value&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">cmd</span> <span class="o">:=</span> <span class="nx">terminal</span><span class="p">.</span><span class="nf">NewStdUI</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span> <span class="o">:=</span> <span class="nx">cmd</span><span class="p">.</span><span class="nf">Table</span><span class="p">(</span><span class="nx">rows</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;ID&#34;</span><span class="p">,</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">server</span><span class="p">.</span><span class="nx">Id</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;GUID&#34;</span><span class="p">,</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">GlobalIdentifier</span><span class="p">).(</span><span class="kt">string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;Hostname&#34;</span><span class="p">,</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">Hostname</span><span class="p">).(</span><span class="kt">string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;Domain&#34;</span><span class="p">,</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">Domain</span><span class="p">).(</span><span class="kt">string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;FQDN&#34;</span><span class="p">,</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">FullyQualifiedDomainName</span><span class="p">).(</span><span class="kt">string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">server</span><span class="p">.</span><span class="nx">HardwareStatus</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;Status&#34;</span><span class="p">,</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">HardwareStatus</span><span class="p">.</span><span class="nx">Status</span><span class="p">).(</span><span class="kt">string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">server</span><span class="p">.</span><span class="nx">Datacenter</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;Datacenter&#34;</span><span class="p">,</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">Datacenter</span><span class="p">.</span><span class="nx">Name</span><span class="p">).(</span><span class="kt">string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;CPU cores&#34;</span><span class="p">,</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">server</span><span class="p">.</span><span class="nx">ProcessorPhysicalCoreAmount</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;Memory&#34;</span><span class="p">,</span> <span class="p">(</span><span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%d&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">server</span><span class="p">.</span><span class="nx">MemoryCapacity</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#34;GB&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;Public IP&#34;</span><span class="p">,</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">PrimaryIpAddress</span><span class="p">).(</span><span class="kt">string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;Private IP&#34;</span><span class="p">,</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">PrimaryBackendIpAddress</span><span class="p">).(</span><span class="kt">string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;IPMI IP&#34;</span><span class="p">,</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">NetworkManagementIpAddress</span><span class="p">).(</span><span class="kt">string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">server</span><span class="p">.</span><span class="nx">OperatingSystem</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">		<span class="nx">server</span><span class="p">.</span><span class="nx">OperatingSystem</span><span class="p">.</span><span class="nx">SoftwareLicense</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="o">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">		<span class="nx">server</span><span class="p">.</span><span class="nx">OperatingSystem</span><span class="p">.</span><span class="nx">SoftwareLicense</span><span class="p">.</span><span class="nx">SoftwareDescription</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;OS&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">OperatingSystem</span><span class="p">.</span><span class="nx">SoftwareLicense</span><span class="p">.</span><span class="nx">SoftwareDescription</span><span class="p">.</span><span class="nx">Name</span><span class="p">).(</span><span class="kt">string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;OS version&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">OperatingSystem</span><span class="p">.</span><span class="nx">SoftwareLicense</span><span class="p">.</span><span class="nx">SoftwareDescription</span><span class="p">.</span><span class="nx">Version</span><span class="p">).(</span><span class="kt">string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">server</span><span class="p">.</span><span class="nx">Notes</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="o">&amp;&amp;</span> <span class="o">*</span><span class="nx">server</span><span class="p">.</span><span class="nx">Notes</span> <span class="o">!=</span> <span class="s">&#34;&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">table</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">&#34;Note&#34;</span><span class="p">,</span> <span class="nx">sl</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="nx">server</span><span class="p">.</span><span class="nx">Notes</span><span class="p">).(</span><span class="kt">string</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nx">cmd</span><span class="p">.</span><span class="nf">Say</span><span class="p">(</span><span class="s">&#34;Server details&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">table</span><span class="p">.</span><span class="nf">Print</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">Prints the data as format JSON.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printAsJsonFormat</span><span class="p">(</span><span class="nx">data</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">jsonData</span><span class="p">,</span> <span class="nx">jsonErr</span> <span class="o">:=</span> <span class="nx">json</span><span class="p">.</span><span class="nf">MarshalIndent</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="s">&#34;    &#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">jsonErr</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">jsonErr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="nb">println</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">jsonData</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/*
</span></span></span><span class="line"><span class="cl"><span class="cm">Cancel a bare metal server.
</span></span></span><span class="line"><span class="cl"><span class="cm">The server will be canceled immediately if it is billed Hourly,
</span></span></span><span class="line"><span class="cl"><span class="cm">for the Monthly server, the cancellation will be made after the next bill date.
</span></span></span><span class="line"><span class="cl"><span class="cm">*/</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">cancelServer</span><span class="p">(</span><span class="nx">serverId</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// In order to cancel billing item of server we need to set following values
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">cancelAssociatedBillingItems</span> <span class="o">:=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">	<span class="nx">reason</span> <span class="o">:=</span> <span class="s">&#34;No longer needed&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">customerNote</span> <span class="o">:=</span> <span class="s">&#34;BMS - canceled&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Get SoftLayer_Billing_Item service
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">billingService</span> <span class="o">:=</span> <span class="nx">services</span><span class="p">.</span><span class="nf">GetBillingItemService</span><span class="p">(</span><span class="nx">sess</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">mask</span> <span class="o">:=</span> <span class="s">&#34;id;hostname;billingItem;hourlyBillingFlag&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="nx">server</span> <span class="o">:=</span> <span class="nf">getServerIntance</span><span class="p">(</span><span class="nx">serverId</span><span class="p">,</span> <span class="nx">mask</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// If server is billed hourly it will be canceled immediately, for monthly server
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// the cancellation will be made after next bill date.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">cancelImmediately</span> <span class="o">:=</span> <span class="nx">server</span><span class="p">.</span><span class="nx">HourlyBillingFlag</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Call the cancelItem() method in order to cancel the bare metal server
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">result</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">billingService</span><span class="p">.</span><span class="nf">Id</span><span class="p">(</span><span class="o">*</span><span class="nx">server</span><span class="p">.</span><span class="nx">BillingItem</span><span class="p">.</span><span class="nx">Id</span><span class="p">).</span><span class="nf">CancelItem</span><span class="p">(</span><span class="nx">cancelImmediately</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="o">&amp;</span><span class="nx">cancelAssociatedBillingItems</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">reason</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">customerNote</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\n Unable to cancel the server &#39;%d&#39; \n - %s\n&#34;</span><span class="p">,</span> <span class="nx">serverId</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1">// Print final result
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">if</span> <span class="nx">result</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\n Server &#39;%d&#39; was successfuly cancelled\n&#34;</span><span class="p">,</span> <span class="nx">serverId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\n Server &#39;%d&#39; could not be cancelled\n&#34;</span><span class="p">,</span> <span class="nx">serverId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">//Gets the server instance by identifier using a specific object mask.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">getServerIntance</span><span class="p">(</span><span class="nx">serverId</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">mask</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">resp</span> <span class="nx">datatypes</span><span class="p">.</span><span class="nx">Hardware_Server</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">hardwareService</span> <span class="o">:=</span> <span class="nx">services</span><span class="p">.</span><span class="nf">GetHardwareServerService</span><span class="p">(</span><span class="nx">sess</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="nx">server</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">hardwareService</span><span class="p">.</span><span class="nf">Id</span><span class="p">(</span><span class="nx">serverId</span><span class="p">).</span><span class="nf">Mask</span><span class="p">(</span><span class="nx">mask</span><span class="p">).</span><span class="nf">GetObject</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;\n Unable to get server \n - %s\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="nx">server</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>
            </div>
        </div>

    </div>
    <hr>
    <div class="row">
        <div class="row">
            <div class="col-md-6">
    <div class="well well-sm footer" style="word-wrap: break-word;"> 
        <strong>Feedback? <span class="fas fa-comment"/></strong>
            <p>
                If this article contains any error, or leaves any of your questions unanswered, please help us out by 
                opening up a github issue.<br>
                <a class="" href="https://github.com/softlayer/githubio_source/issues/new?title=Feedback%20for%20go%20-%20More%20Bare%20Metal%20Server%20examples&body=Feedback+regarding%3A%20https%3a%2f%2fsldn.softlayer.com%2fgo%2fserver.go%2f"> Open an issue</a>
                <i class="fab fa-github" alt="github"></i>
                <span> - </span>
                <a class="" href="https://github.com/softlayer/githubio_source/edit/master/content/go/server.go.md" style="text-align: right;"> Quick Edit</a>
                <i class="fab fa-github" alt="github"></i>

            </p>
    </div>
</div>

        </div>
    </div>
<footer>
    <div class="row">
        <div class="col-sm-12 footer">
            <p>&copy; SoftLayer 2024<br>
            Built with <a href="https://github.com/spf13/hugo">Hugo</a></p>
        </div>
    </div>
</footer>
</div>

    <script src="https://sldn.softlayer.com/js/jquery.js"></script>
    <script src="https://sldn.softlayer.com/js/bootstrap.js"></script>
</body>
</html>
