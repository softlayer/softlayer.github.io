<!doctype html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SoftLayer API Examples, implementations, and release notes.">
    <meta name="author" content="SoftLayer">

    <title>Tickets - https://sldn.softlayer.com/</title>
    <link rel="canonical" href="https://sldn.softlayer.com/rest/tickets/">
        <link href="https://sldn.softlayer.com/css/main.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/bootstrap.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/custom.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/monokai.css" rel="stylesheet">
    <link href="https://sldn.softlayer.com/css/highlight/solarized_dark.css" rel="stylesheet">

    <script src="https://sldn.softlayer.com/js/highlight.pack.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="shortcut icon" href="https://sldn.softlayer.com/img/favicon.ico" type="image/x-icon" />
	<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato" />
            

    <script src="https://sldn.softlayer.com/js/jquery-3.3.1.min.js"></script> 
    <script src="https://sldn.softlayer.com/js/sldn.js"></script>


    <link href="https://sldn.softlayer.com/fontawesome/css/fontawesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/brands.min.css" rel="stylesheet" type="text/css">
    <link href="https://sldn.softlayer.com/fontawesome/css/solid.min.css" rel="stylesheet" type="text/css">
    
    <script defer src="https://sldn.softlayer.com/fontawesome/js/solid.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/brands.min.js"></script>
    <script defer src="https://sldn.softlayer.com/fontawesome/js/fontawesome.min.js"></script>

    <script>
		$(document).ready(function() {
			$('table').addClass("table table-hover table-striped")
		})
	</script>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-88235803-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle Navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://sldn.softlayer.com/">SoftLayer API</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    
                        <li><a href="https://sldn.softlayer.com/article/">Articles</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/reference/softlayerapi">Documentation</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/go/">Go</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/java/">Java</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/perl/">Perl</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/php/">PHP</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/python/">Python</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/rest/">Rest</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/ruby/">Ruby</a></li>
                    
                        <li><a href="https://sldn.softlayer.com/tools/">Tools</a></li>
                    

                    
                </ul>
                <div id="custom-search-input" class="pull-right">
                  <form class="navbar-form" role="search" method="get" action="https://www.bing.com/search">
                    <div class="input-group col-md-12">
                      <input type="text" class="form-control input-md" placeholder="Search" name="q" id="srch-term">
                      <input type="hidden" name="q1" value="site:sldn.softlayer.com" />
                      <div class="input-group-btn">
                        <button class="btn btn-info" type="submit">
                          <i class="glyphicon glyphicon-search"></i>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
            </div>
        </div>
    </nav>

<div class="container">
    <div class="row">
    
        <div class="col-md-3">
            <div style="word-wrap: break-word;"> 
                <h4>April 10, 2018<br></h4>
            </div>
        </div>
        <div class="col-md-9">

                <strong>Classes <span class="fa fa-book"/></strong>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Ticket">SoftLayer_Ticket</a>
                
                    <a class="label label-primary" href="https://sldn.softlayer.com/reference/services/SoftLayer_Ticket_Attachment_File">SoftLayer_Ticket_Attachment_File</a>
                
                <br>
                <strong>Tags <span class="fa fa-tags"/></strong>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/resultlimit">resultlimit</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/objectmask">objectmask</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/objectfilter">objectfilter</a>
                
                    <a class="label label-danger" href="https://sldn.softlayer.com/tags/ticket">ticket</a>
                          
        </div>
    </div>
    <hr>
    <div class="row">
		<div class="col-md-12">
            <div class="well well-sm  article" style="word-wrap: break-word;">
                <div class="article-title">
				    <h1>Tickets</h1>
                    <small>Examples of how to use and interact with tickets</small>
                </div>
				
                
				
                <h1 id="tickets">Tickets</h1>
<p>Tickets are how SoftLayer and you communicate and resolve problems. They can be about anything from general questions, requests for upgrades, monitoring alerts, or anything else that might come up.</p>
<h2 id="viewing-tickets">Viewing Tickets</h2>
<p>To start off, lets see how to go about getting tickets that already exist on our account. There are a variety of helper functions on the <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Account/">SoftLayer_Account</a> service that deal with tickets, and they all work basically the same way.  <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Account/getTickets/">SoftLayer_Account::getTickets</a> and <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Account/getOpenTickets/">SoftLayer_Account::getOpenTickets</a> are the most basic of these.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">curl -u $SL_USER:$SL_APIKEY -X GET -H &#34;Accept: */*&#34; -H &#34;Accept-Encoding: gzip, deflate, compress&#34;  &#39;https://api.softlayer.com/rest/v3.1/SoftLayer_Account/getOpenTickets.json&#39;
</code></pre></div><p>Output:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">[
    {
        &#34;accountId&#34;: 307608,
        &#34;assignedUserId&#34;: 244956,
        &#34;createDate&#34;: &#34;2018-03-30T14:41:47-06:00&#34;,
        &#34;groupId&#34;: 1004,
        &#34;id&#34;: 57894695,
        &#34;lastEditDate&#34;: null,
        &#34;lastEditType&#34;: &#34;USER&#34;,
        &#34;lastResponseDate&#34;: &#34;2018-03-30T14:41:48-06:00&#34;,
        &#34;modifyDate&#34;: &#34;2018-03-30T14:41:48-06:00&#34;,
        &#34;notifyUserOnUpdateFlag&#34;: false,
        &#34;priority&#34;: 0,
        &#34;status&#34;: {
            &#34;id&#34;: 1001,
            &#34;name&#34;: &#34;Open&#34;
        },
        &#34;statusId&#34;: 1001,
        &#34;subjectId&#34;: null,
        &#34;title&#34;: &#34;Virtual Server Cancellation - 03/30/18&#34;,
        &#34;totalUpdateCount&#34;: 1,
        &#34;userEditableFlag&#34;: true
    },
</code></pre></div><p>From there, the <a href="https://sldn.softlayer.com/reference/datatypes/SoftLayer_Ticket/">SoftLayer_Ticket</a> datatype has quite a few fields we might be interested in.  Here is how you would get the updates for the ticket, along with whatever hardware was attached.</p>
<p><a href="https://api.softlayer.com/rest/v3.1/SoftLayer_Account/getOpenTickets.json?">https://api.softlayer.com/rest/v3.1/SoftLayer_Account/getOpenTickets.json?</a>
objectMask=mask[id, title, updates, attachedHardware[hostname, id]]</p>
<blockquote>
<p>Reminder: When requesting a LOCAL property, the result will remove all local properties not specified. When requesting a RELATIONAL property, that property, along with any of its default properties, will be added</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">curl -u $SL_USER:$SL_APIKEY -X GET -H &#34;Accept: */*&#34; -H &#34;Accept-Encoding: gzip, deflate, compress&#34;  &#39;https://api.softlayer.com/rest/v3.1/SoftLayer_Account/getOpenTickets.json?objectMask=mask%5Bid%2Ctitle%2Cupdates%2CattachedHardware%5Bhostname%2Cid%5D%5D&#39;
</code></pre></div><p>Output:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">   {
        &#34;attachedHardware&#34;: [
            {
                &#34;hostname&#34;: &#34;fmirdal13&#34;,
                &#34;id&#34;: 1477781
            }
        ],
        &#34;id&#34;: 58043007,
        &#34;title&#34;: &#34;Server Cancellation - 04/04/2018&#34;,
        &#34;updates&#34;: [
            {
                &#34;createDate&#34;: &#34;2018-04-03T09:38:36-06:00&#34;,
                &#34;editorId&#34;: 205,
                &#34;editorType&#34;: &#34;AUTO&#34;,
                &#34;entry&#34;: &#34;A cancellation request has been submitted for the following:\nServer: fmirdal13.insomnia.com\nPublic IP: 169.60.129.46\nPrivate IP: 10.186.96.230\nServers and services must be cancelled prior to Apr 03, 2018 23:59:59 CDT.\n=================\nCustomer Note:\n&#34;,
                &#34;id&#34;: 358332963,
                &#34;ticketId&#34;: 58043007
            }
        ]
    },
</code></pre></div><p>To get information about just one ticket, the <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Ticket/getObject">SoftLayer_Ticket::getObject</a> method would be used.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">curl -u $SL_USER:$SL_APIKEY -X GET -H &#34;Accept: */*&#34; -H &#34;Accept-Encoding: gzip, deflate, compress&#34;  &#39;https://api.softlayer.com/rest/v3.1/SoftLayer_Ticket/58043007/getObject.json?objectMask=mask%5Bid%2Ctitle%2Cupdates%2CattachedHardware%5Bhostname%2Cid%5D%5D&#39;
</code></pre></div><h2 id="creating-tickets">Creating Tickets</h2>
<p>There are a few create options in the SoftLayer_Ticket service, the only difference being which internal group they get routed to, and should be obvious based on the method name which one you need. If in doubt, use the standard ticket, <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Ticket/createStandardTicket/">SoftLayer_Ticket::createStandardTicket</a></p>
<p>The bare minimum to create a ticket is the following command:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">curl -u $SL_USER:$SL_APIKEY -X POST -H &#34;Accept: */*&#34; -H &#34;Accept-Encoding: gzip, deflate, compress&#34; -d &#39;{&#34;parameters&#34;: [{&#34;subjectId&#34;: 1021}, &#34;Content of the ticket goes here&#34;]}&#39; &#39;https://api.softlayer.com/rest/v3.1/SoftLayer_Ticket/createStandardTicket.json&#39;
</code></pre></div><p>The result you get back will be a ticket object. <a href="https://sldn.softlayer.com/python/create_ticket/">This example</a> has some information about which ticket subjects match up with which Ids. The whole list can be retrieved with this call.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">curl -u $SL_USER:$SL_APIKEY -X GET -H &#34;Accept: */*&#34; -H &#34;Accept-Encoding: gzip, deflate, compress&#34;  &#39;https://api.softlayer.com/rest/v3.1/SoftLayer_Ticket_Subject/getAllObjects.json&#39;
</code></pre></div><p>The <code>parameters</code> array passed into the createStandardTicket method matches the order shown in the documentation for that method.</p>
<p>Another example</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">curl -u $SL_USER:$SL_APIKEY -X POST -H &#34;Accept: */*&#34; -H &#34;Accept-Encoding: gzip, deflate, compress&#34; -d &#39;{&#34;parameters&#34;: [{&#34;subjectId&#34;: 1021, &#34;title&#34;: &#34;Test API Ticket&#34;}, &#34;Content of the ticket goes here&#34;, 305250,&#34;FakePass&#34;,&#34;Test&#34;,22,&#34;HARDWARE&#34;]}&#39; &#39;https://api.softlayer.com/rest/v3.1/SoftLayer_Ticket/createStandardTicket.json&#39;
</code></pre></div><h2 id="updating-tickets">Updating Tickets</h2>
<p>Once a ticket is created, you may want to update it to respond to another update, or add more information. This is done through the <a href="https://sldn.softlayer.com/reference/services/SoftLayer_Ticket/addUpdate/">SoftLayer_Ticket::addUpdate</a> method.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">curl -u $SL_USER:$SL_APIKEY -X POST -H &#34;Accept: */*&#34; -H &#34;Accept-Encoding: gzip, deflate, compress&#34; -d &#39;{&#34;parameters&#34;: [{&#34;entry&#34;: &#34;Testing updates&#34;}]}&#39; &#39;https://api.softlayer.com/rest/v3.1/SoftLayer_Ticket/&lt;TICKET ID YOU WANT TO UDPATE&gt;/addUpdate.json&#39;
</code></pre></div><h2 id="attachments">Attachments</h2>
<h3 id="attach-files">Attach Files</h3>
<p><a href="https://sldn.softlayer.com/reference/services/SoftLayer_Ticket/addAttachedFile/">SoftLayer_Ticket::addAttachedFile</a> is useful when you need to add a screenshot, PDF, or something else thats not plain text to a ticket.</p>
<p>Our ticket ID for this example is 58504963.</p>
<blockquote>
<p><em>NOTE</em> the <code>data</code> field MUST be base64 encoded, which can be tricky to do in bash. The base64 string needs to be enclosed with &ldquo;&rdquo;, but bash needs the $(base64 <file>) bit to be escaped from the '' string.</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">curl -u $SL_USER:$SL_APIKEY -X POST -H &#34;Accept: */*&#34; -H &#34;Accept-Encoding: gzip, deflate, compress&#34; --data &#39;{&#34;parameters&#34;: [{&#34;data&#34;: &#34;&#39;&#34;$(base64 test.txt)&#34;&#39;&#34;, &#34;filename&#34;: &#34;test2.txt&#34;}]}&#39; &#39;https://api.softlayer.com/rest/v3.1/SoftLayer_Ticket/58504963/addAttachedFile&#39;
</code></pre></div><h3 id="attach-hardware">Attach Hardware</h3>
<p>For the best response from Support, you should attach any relevant hardware or virtual guests to the ticket, so Support knows which servers you are specifically talking about.</p>
<p>There are different methods if you want to attach a bare metal or virtual server, but they behave the same.</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">curl -u $SL_USER:$SL_APIKEY -X POST -H &#34;Accept: */*&#34; -H &#34;Accept-Encoding: gzip, deflate, compress&#34; --data &#39;{&#34;parameters&#34;: [481966]}&#39; &#39;https://api.softlayer.com/rest/v3.1/SoftLayer_Ticket/58504963/addAttachedHardware&#39;

curl -u $SL_USER:$SL_APIKEY -X POST -H &#34;Accept: */*&#34; -H &#34;Accept-Encoding: gzip, deflate, compress&#34; --data &#39;{&#34;parameters&#34;: [27500547]}&#39; &#39;https://api.softlayer.com/rest/v3.1/SoftLayer_Ticket/58504963/addAttachedVirtualGuest&#39;
</code></pre></div><h2 id="final-bits">Final Bits</h2>
<p>Hopefully that helps explain most of the actions you can do with tickets.</p>

            </div>
        </div>

    </div>
    <hr>
    <div class="row">
        <div class="row">
            <div class="col-md-6">
    <div class="well well-sm" style="word-wrap: break-word;"> 
        <strong>Feedback? <span class="fas fa-comment"/></strong>
            <p>
                If this article contains any error, or leaves any of your questions unanswered, please help us out by 
                opening up a github issue.<br>
                <a class="" href="https://github.com/softlayer/githubio_source/issues/new?title=Feedback%20for%20rest%20-%20Tickets&body=Feedback+regarding%3A%20https%3a%2f%2fsldn.softlayer.com%2frest%2ftickets%2f"> Open an issue</a>
                <i class="fab fa-github" alt="github"></i>
            </p>
    </div>
</div>
        </div>
    </div>
<footer>
    <div class="row">
        <div class="col-sm-12">
            <p>&copy; SoftLayer 2022<br>
            Built with <a href="https://github.com/spf13/hugo">Hugo</a></p>
        </div>
    </div>
</footer>
</div>

    <script src="https://sldn.softlayer.com/js/jquery.js"></script>
    <script src="https://sldn.softlayer.com/js/bootstrap.js"></script>
</body>
</html>
